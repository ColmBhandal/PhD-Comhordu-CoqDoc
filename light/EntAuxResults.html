<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>EntAuxResults</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library EntAuxResults</h1>

<div class="code">
</div>

<div class="doc">
This file was written by Colm Bhandal, PhD student, Foundations and Methods group,
School of Computer Science and Statistics, Trinity College, Dublin, Ireland.
<div class="paragraph"> </div>

*************************** Standard Imports 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">ComhCoq.Extras.LibTactics</span>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">ComhCoq.GenTacs</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">ComhCoq.StandardResults</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">ComhCoq.ComhBasics</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">ComhCoq.LanguageFoundations</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">ComhCoq.InterfaceLanguage</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">ComhCoq.ModeStateLanguage</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">ComhCoq.SoftwareLanguage</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">ComhCoq.EntityLanguage</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">ComhCoq.ProtAuxDefs</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">ComhCoq.EntAuxDefs</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">ComhCoq.ProtAuxResults</span>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">reachable_ent_prot</span> <span class="id" title="var">p</span> <span class="id" title="var">l</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span> : <span class="id" title="var">reachableEnt</span> ([| <span class="id" title="var">p</span>, <span class="id" title="var">l</span>, <span class="id" title="var">h</span>, <span class="id" title="var">k</span> |]) -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">reachableProt</span> <span class="id" title="var">p</span>. 
<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">nextModeEnt_not_stable</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">p</span> <span class="id" title="var">l</span> <span class="id" title="var">h</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">nextModeEnt</span> <span class="id" title="var">m1</span> ([|<span class="id" title="var">p</span>, <span class="id" title="var">l</span>, <span class="id" title="var">h</span>, <span class="id" title="var">m2</span>|]) -&gt; <span class="id" title="var">False</span>. 
<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">mst_tout_mCurr_in</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">discActEnabledMState</span> (<span class="id" title="var">chanMCurr</span> *?) (&lt;| <span class="id" title="var">m1</span>, <span class="id" title="var">m2</span>, <span class="id" title="var">zeroTime</span> |&gt;). <br/>

<br/>

<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">tfsNext_prev_ent</span> <span class="id" title="var">m</span> <span class="id" title="var">e</span> <span class="id" title="var">e'</span> <span class="id" title="var">a</span> : <span class="id" title="var">tfsNextStateEnt</span> <span class="id" title="var">m</span> <span class="id" title="var">e'</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">e</span> -<span class="id" title="var">EA</span>- <span class="id" title="var">a</span> -&gt;&gt; <span class="id" title="var">e'</span> -&gt; <span class="id" title="var">tfsNextStateEnt</span> <span class="id" title="var">m</span> <span class="id" title="var">e</span> \/ <span class="id" title="var">tfsStartStateEnt</span> <span class="id" title="var">e</span>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">currEq_mode</span> <span class="id" title="var">m</span> <span class="id" title="var">m''</span> <span class="id" title="var">e</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">currEqStateEnt</span> <span class="id" title="var">m</span> <span class="id" title="var">m''</span> <span class="id" title="var">e</span> -&gt; <span class="id" title="var">m</span> = <span class="id" title="var">currModeEnt</span> <span class="id" title="var">e</span>. <br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ovAbort_unstable</span> <span class="id" title="var">e</span> : <span class="id" title="var">reachableEnt</span> <span class="id" title="var">e</span> -&gt; <span class="id" title="var">ovAbortStateEnt</span> <span class="id" title="var">e</span> -&gt; <span class="id" title="var">unstable</span> (<span class="id" title="var">mstEnt</span> <span class="id" title="var">e</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">tfsCurr_failSafe</span> (<span class="id" title="var">e</span> : <span class="id" title="var">Entity</span>) (<span class="id" title="var">m</span> : <span class="id" title="var">Mode</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">tfsCurrStateEnt</span> <span class="id" title="var">e</span> -&gt; <span class="id" title="tactic">exists</span> <span class="id" title="var">m</span>, <span class="id" title="var">nextModeEnt</span> <span class="id" title="var">m</span> <span class="id" title="var">e</span> /\ <span class="id" title="var">failSafe</span> <span class="id" title="var">m</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">tfsBc_failSafe</span> (<span class="id" title="var">e</span> : <span class="id" title="var">Entity</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">tfsBcStateEnt</span> <span class="id" title="var">e</span> -&gt; <span class="id" title="var">failSafe</span> (<span class="id" title="var">currModeEnt</span> <span class="id" title="var">e</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">tfsNext_currMode</span> <span class="id" title="var">e</span> <span class="id" title="var">m</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">reachableEnt</span> <span class="id" title="var">e</span> -&gt; <span class="id" title="var">tfsNextStateEnt</span> <span class="id" title="var">m</span> <span class="id" title="var">e</span> -&gt; <span class="id" title="var">currModeEnt</span> <span class="id" title="var">e</span> = <span class="id" title="var">m</span>.<br/>
 
<br/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">switchCurr_mState</span> (<span class="id" title="var">e</span> : <span class="id" title="var">Entity</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">reachableEnt</span> <span class="id" title="var">e</span> -&gt; <span class="id" title="var">switchCurrStateEnt</span> <span class="id" title="var">e</span> -&gt; <span class="id" title="tactic">exists</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span>,<br/>
&nbsp;&nbsp;<span class="id" title="var">mstEnt</span> <span class="id" title="var">e</span> = &lt;| <span class="id" title="var">m</span>, <span class="id" title="var">m'</span>, <span class="id" title="var">zeroTime</span> |&gt;. 
<br/>
</div>

<div class="doc">
If an entity is in a state ready to output some m l from the broadcast component,
then it is in the position l.
</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">bcReady_pos</span> (<span class="id" title="var">e</span> : <span class="id" title="var">Entity</span>) (<span class="id" title="var">m</span> : <span class="id" title="var">Mode</span>) (<span class="id" title="var">l</span> : <span class="id" title="var">Position</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">reachableEnt</span> <span class="id" title="var">e</span> -&gt; <span class="id" title="var">bcReadyStateEnt</span> <span class="id" title="var">m</span> <span class="id" title="var">l</span> <span class="id" title="var">e</span> -&gt; <span class="id" title="var">inPosEnt</span> <span class="id" title="var">l</span> <span class="id" title="var">e</span>. 
<br/>
</div>

<div class="doc">
If an entity is in a state ready to output some m l from the overlap component,
then it is in the position l.
</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">ovReady_pos</span> (<span class="id" title="var">e</span> : <span class="id" title="var">Entity</span>) (<span class="id" title="var">m</span> : <span class="id" title="var">Mode</span>) (<span class="id" title="var">t</span> : <span class="id" title="keyword">Time</span>) (<span class="id" title="var">l</span> : <span class="id" title="var">Position</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">reachableEnt</span> <span class="id" title="var">e</span> -&gt; <span class="id" title="var">ovReadyStateEnt</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span> <span class="id" title="var">e</span> -&gt; <span class="id" title="var">inPosEnt</span> <span class="id" title="var">l</span> <span class="id" title="var">e</span>. 
<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">tfsListen_paused</span> <span class="id" title="var">p1</span> <span class="id" title="var">p2</span> <span class="id" title="var">p3</span> :<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">tfsListenStateProt</span> (<span class="id" title="var">p1</span> $||$ <span class="id" title="var">p2</span> $||$ <span class="id" title="var">p3</span>) -&gt; <span class="id" title="var">pausedStateProt</span> (<span class="id" title="var">p1</span> $||$ <span class="id" title="var">p2</span> $||$ <span class="id" title="var">p3</span>).<br/>

<br/>
</div>

<div class="doc">
If an entity inputs a message then that message is incoming.
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">input_incomingEnt</span> (<span class="id" title="var">v</span> : <span class="id" title="var">list</span> <span class="id" title="var">BaseType</span>) (<span class="id" title="var">e</span> <span class="id" title="var">e'</span> : <span class="id" title="var">Entity</span>) (<span class="id" title="var">l</span> : <span class="id" title="var">Position</span>) (<span class="id" title="var">r</span> : <span class="id" title="var">Distance</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">e</span> -<span class="id" title="var">EA</span>- ([-<span class="id" title="var">v</span>, <span class="id" title="var">l</span>, <span class="id" title="var">r</span>-]) #? -&gt;&gt; <span class="id" title="var">e'</span> -&gt; <span class="id" title="var">incomingEnt</span> <span class="id" title="var">v</span> <span class="id" title="var">e'</span>.<br/>

<br/>

<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">urgency_pre_tac</span> := <br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">U</span> := <span class="id" title="tactic">fresh</span> "U" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;(<span class="id" title="tactic">try</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> [ |- <span class="id" title="keyword">forall</span> <span class="id" title="var">e</span> : <span class="id" title="var">Entity</span>, <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span> <span class="id" title="var">e'</span> <span class="id" title="var">d</span>; <span class="id" title="var">introz</span> <span class="id" title="var">U</span> <span class="id" title="keyword">end</span>); <span class="id" title="var">destrEnts_norm</span>;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> [ <span class="id" title="var">RE</span> : <span class="id" title="var">reachableEnt</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">reachable_ent_prot</span> <span class="id" title="tactic">in</span> <span class="id" title="var">RE</span> <span class="id" title="keyword">end</span>; <span class="id" title="keyword">let</span> <span class="id" title="var">q</span> := <span class="id" title="tactic">fresh</span> "Q" <span class="id" title="tactic">in</span> <span class="id" title="var">reachprot</span> <span class="id" title="var">q</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">q</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">p1</span> <span class="id" title="var">p2</span> <span class="id" title="var">p3</span> <span class="id" title="var">BC</span> <span class="id" title="var">OV</span> <span class="id" title="var">LI</span> <span class="id" title="var">TR</span>]; <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">TR</span>.<br/>

<br/>
</div>

<div class="doc">
SE SP and S are the names of the state predicates involved- the entity,
the protocol and the standard ones respectively.
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">urgency_pre_tac2</span> <span class="id" title="var">SE</span> <span class="id" title="var">SP</span> <span class="id" title="var">S</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">urgency_pre_tac</span>;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| [ <span class="id" title="var">_</span> : <span class="id" title="var">SE</span> ([|?<span class="id" title="var">p0</span>, ?<span class="id" title="var">l0</span>, ?<span class="id" title="var">h0</span>, ?<span class="id" title="var">k0</span>|]) |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">SP</span> <span class="id" title="var">p0</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">TP</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">inversion</span> <span class="id" title="var">U0</span>; <span class="id" title="tactic">assumption</span> | ];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">TR</span> : <span class="id" title="var">p0</span> = ?<span class="id" title="var">p1</span> $||$ ?<span class="id" title="var">p2</span> $||$ ?<span class="id" title="var">p3</span>, <span class="id" title="var">TP</span> : <span class="id" title="var">SP</span> <span class="id" title="var">p0</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">TR</span> <span class="id" title="tactic">in</span> <span class="id" title="var">TP</span> <span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> [ <span class="id" title="var">_</span> : <span class="id" title="var">SP</span> (?<span class="id" title="var">p1</span> $||$ ?<span class="id" title="var">p2</span> $||$ ?<span class="id" title="var">p3</span>) |- <span class="id" title="var">_</span>]<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;=&gt; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">assert</span> (<span class="id" title="var">S</span> <span class="id" title="var">p1</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">TS</span>; [<span class="id" title="tactic">inversion</span> <span class="id" title="var">TP</span>; <span class="id" title="tactic">assumption</span> | ]);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">assert</span> (<span class="id" title="var">S</span> <span class="id" title="var">p2</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">TS</span>; [<span class="id" title="tactic">inversion</span> <span class="id" title="var">TP</span>; <span class="id" title="tactic">assumption</span> | ]);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">assert</span> (<span class="id" title="var">S</span> <span class="id" title="var">p3</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">TS</span>; [<span class="id" title="tactic">inversion</span> <span class="id" title="var">TP</span>; <span class="id" title="tactic">assumption</span> | ]) <span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Same as urgency_pre_tac2 but the state predicate has 1 parameter.
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">urgency_pre_tac2_1</span> <span class="id" title="var">SE</span> <span class="id" title="var">SP</span> <span class="id" title="var">S</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">urgency_pre_tac</span>;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| [ <span class="id" title="var">_</span> : <span class="id" title="var">SE</span> ?<span class="id" title="var">x1</span> ([|?<span class="id" title="var">p0</span>, ?<span class="id" title="var">l0</span>, ?<span class="id" title="var">h0</span>, ?<span class="id" title="var">k0</span>|]) |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">SP</span> <span class="id" title="var">x1</span> <span class="id" title="var">p0</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">TP</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">inversion</span> <span class="id" title="var">U0</span>; <span class="id" title="tactic">assumption</span> | ];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">TR</span> : <span class="id" title="var">p0</span> = ?<span class="id" title="var">p1</span> $||$ ?<span class="id" title="var">p2</span> $||$ ?<span class="id" title="var">p3</span>, <span class="id" title="var">TP</span> : <span class="id" title="var">SP</span> <span class="id" title="var">x1</span> <span class="id" title="var">p0</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">TR</span> <span class="id" title="tactic">in</span> <span class="id" title="var">TP</span> <span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> [ <span class="id" title="var">_</span> : <span class="id" title="var">SP</span> ?<span class="id" title="var">x1</span> (?<span class="id" title="var">p1</span> $||$ ?<span class="id" title="var">p2</span> $||$ ?<span class="id" title="var">p3</span>) |- <span class="id" title="var">_</span>]<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;=&gt; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">assert</span> (<span class="id" title="var">S</span> <span class="id" title="var">x1</span> <span class="id" title="var">p1</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">TS</span>; [<span class="id" title="tactic">inversion</span> <span class="id" title="var">TP</span>; <span class="id" title="tactic">assumption</span> | ]);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">assert</span> (<span class="id" title="var">S</span> <span class="id" title="var">x1</span> <span class="id" title="var">p2</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">TS</span>; [<span class="id" title="tactic">inversion</span> <span class="id" title="var">TP</span>; <span class="id" title="tactic">assumption</span> | ]);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">assert</span> (<span class="id" title="var">S</span> <span class="id" title="var">x1</span> <span class="id" title="var">p3</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">TS</span>; [<span class="id" title="tactic">inversion</span> <span class="id" title="var">TP</span>; <span class="id" title="tactic">assumption</span> | ]) <span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Same as urgency_pre_tac2 but the state predicate has 2 parameters.
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">urgency_pre_tac2_2</span> <span class="id" title="var">SE</span> <span class="id" title="var">SP</span> <span class="id" title="var">S</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">urgency_pre_tac</span>;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| [ <span class="id" title="var">_</span> : <span class="id" title="var">SE</span> ?<span class="id" title="var">x1</span> ?<span class="id" title="var">x2</span> ([|?<span class="id" title="var">p0</span>, ?<span class="id" title="var">l0</span>, ?<span class="id" title="var">h0</span>, ?<span class="id" title="var">k0</span>|]) |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">SP</span> <span class="id" title="var">x1</span> <span class="id" title="var">x2</span> <span class="id" title="var">p0</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">TP</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">inversion</span> <span class="id" title="var">U0</span>; <span class="id" title="tactic">assumption</span> | ];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">TR</span> : <span class="id" title="var">p0</span> = ?<span class="id" title="var">p1</span> $||$ ?<span class="id" title="var">p2</span> $||$ ?<span class="id" title="var">p3</span>, <span class="id" title="var">TP</span> : <span class="id" title="var">SP</span> <span class="id" title="var">x1</span> <span class="id" title="var">x2</span> <span class="id" title="var">p0</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">TR</span> <span class="id" title="tactic">in</span> <span class="id" title="var">TP</span> <span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> [ <span class="id" title="var">_</span> : <span class="id" title="var">SP</span> ?<span class="id" title="var">x1</span> ?<span class="id" title="var">x2</span> (?<span class="id" title="var">p1</span> $||$ ?<span class="id" title="var">p2</span> $||$ ?<span class="id" title="var">p3</span>) |- <span class="id" title="var">_</span>]<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;=&gt; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">assert</span> (<span class="id" title="var">S</span> <span class="id" title="var">x1</span> <span class="id" title="var">x2</span> <span class="id" title="var">p1</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">TS</span>; [<span class="id" title="tactic">inversion</span> <span class="id" title="var">TP</span>; <span class="id" title="tactic">assumption</span> | ]);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">assert</span> (<span class="id" title="var">S</span> <span class="id" title="var">x1</span> <span class="id" title="var">x2</span> <span class="id" title="var">p2</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">TS</span>; [<span class="id" title="tactic">inversion</span> <span class="id" title="var">TP</span>; <span class="id" title="tactic">assumption</span> | ]);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">assert</span> (<span class="id" title="var">S</span> <span class="id" title="var">x1</span> <span class="id" title="var">x2</span> <span class="id" title="var">p3</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">TS</span>; [<span class="id" title="tactic">inversion</span> <span class="id" title="var">TP</span>; <span class="id" title="tactic">assumption</span> | ]) <span class="id" title="keyword">end</span>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">gotMsgStateEnt_urgent</span> (<span class="id" title="var">e</span> <span class="id" title="var">e'</span> : <span class="id" title="var">Entity</span>) (<span class="id" title="var">d</span> : <span class="id" title="var">Delay</span>) <span class="id" title="var">m</span> <span class="id" title="var">l</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">reachableEnt</span> <span class="id" title="var">e</span> -&gt; <span class="id" title="var">gotMsgStateEnt</span> <span class="id" title="var">m</span> <span class="id" title="var">l</span> <span class="id" title="var">e</span> -&gt; <span class="id" title="var">e</span> -<span class="id" title="var">ED</span>- <span class="id" title="var">d</span> -&gt;&gt; <span class="id" title="var">e'</span> -&gt; <span class="id" title="var">False</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">gotRangeStateEnt_urgent</span> (<span class="id" title="var">e</span> <span class="id" title="var">e'</span> : <span class="id" title="var">Entity</span>) (<span class="id" title="var">d</span> : <span class="id" title="var">Delay</span>) <span class="id" title="var">m</span> <span class="id" title="var">r</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">reachableEnt</span> <span class="id" title="var">e</span> -&gt; <span class="id" title="var">gotRangeStateEnt</span> <span class="id" title="var">m</span> <span class="id" title="var">r</span> <span class="id" title="var">e</span> -&gt; <span class="id" title="var">e</span> -<span class="id" title="var">ED</span>- <span class="id" title="var">d</span> -&gt;&gt; <span class="id" title="var">e'</span> -&gt; <span class="id" title="var">False</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">currCompStateEnt_urgent</span> (<span class="id" title="var">e</span> <span class="id" title="var">e'</span> : <span class="id" title="var">Entity</span>) (<span class="id" title="var">d</span> : <span class="id" title="var">Delay</span>) <span class="id" title="var">m</span> <span class="id" title="var">r</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">reachableEnt</span> <span class="id" title="var">e</span> -&gt; <span class="id" title="var">currCompStateEnt</span> <span class="id" title="var">m</span> <span class="id" title="var">r</span> <span class="id" title="var">e</span> -&gt; <span class="id" title="var">e</span> -<span class="id" title="var">ED</span>- <span class="id" title="var">d</span> -&gt;&gt; <span class="id" title="var">e'</span> -&gt; <span class="id" title="var">False</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">abortOvlpStateEnt_urgent</span> (<span class="id" title="var">e</span> <span class="id" title="var">e'</span> : <span class="id" title="var">Entity</span>) (<span class="id" title="var">d</span> : <span class="id" title="var">Delay</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">reachableEnt</span> <span class="id" title="var">e</span> -&gt; <span class="id" title="var">abortOvlpStateEnt</span> <span class="id" title="var">e</span> -&gt; <span class="id" title="var">e</span> -<span class="id" title="var">ED</span>- <span class="id" title="var">d</span> -&gt;&gt; <span class="id" title="var">e'</span> -&gt; <span class="id" title="var">False</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">tfsStartStateEnt_urgent</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">e</span> <span class="id" title="var">e'</span> : <span class="id" title="var">Entity</span>) (<span class="id" title="var">d</span> : <span class="id" title="var">Delay</span>),<br/>
&nbsp;&nbsp;<span class="id" title="var">reachableEnt</span> <span class="id" title="var">e</span> -&gt; <span class="id" title="var">tfsStartStateEnt</span> <span class="id" title="var">e</span> -&gt; <span class="id" title="var">e</span> -<span class="id" title="var">ED</span>- <span class="id" title="var">d</span> -&gt;&gt; <span class="id" title="var">e'</span> -&gt; <span class="id" title="var">False</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">tfsListen_urgent</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">e</span> <span class="id" title="var">e'</span> : <span class="id" title="var">Entity</span>) (<span class="id" title="var">d</span> : <span class="id" title="var">Delay</span>),<br/>
&nbsp;&nbsp;<span class="id" title="var">reachableEnt</span> <span class="id" title="var">e</span> -&gt; <span class="id" title="var">tfsListenStateEnt</span> <span class="id" title="var">e</span> -&gt; <span class="id" title="var">e</span> -<span class="id" title="var">ED</span>- <span class="id" title="var">d</span> -&gt;&gt; <span class="id" title="var">e'</span> <br/>
&nbsp;&nbsp;-&gt; <span class="id" title="var">False</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">tfsNext_urgent</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">m</span> : <span class="id" title="var">Mode</span>) (<span class="id" title="var">e</span> <span class="id" title="var">e'</span> : <span class="id" title="var">Entity</span>) (<span class="id" title="var">d</span> : <span class="id" title="var">Delay</span>),<br/>
&nbsp;&nbsp;<span class="id" title="var">reachableEnt</span> <span class="id" title="var">e</span> -&gt; <span class="id" title="var">tfsNextStateEnt</span> <span class="id" title="var">m</span> <span class="id" title="var">e</span> -&gt; <span class="id" title="var">e</span> -<span class="id" title="var">ED</span>- <span class="id" title="var">d</span> -&gt;&gt; <span class="id" title="var">e'</span> -&gt; <span class="id" title="var">False</span>.<br/>
 
<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">bcReady_urgent</span> (<span class="id" title="var">m</span> : <span class="id" title="var">Mode</span>) (<span class="id" title="var">l</span> : <span class="id" title="var">Position</span>) : <span class="id" title="keyword">forall</span> (<span class="id" title="var">e</span> <span class="id" title="var">e'</span> : <span class="id" title="var">Entity</span>) (<span class="id" title="var">d</span> : <span class="id" title="var">Delay</span>),<br/>
&nbsp;&nbsp;<span class="id" title="var">reachableEnt</span> <span class="id" title="var">e</span> -&gt; <span class="id" title="var">bcReadyStateEnt</span> <span class="id" title="var">m</span> <span class="id" title="var">l</span> <span class="id" title="var">e</span> -&gt; <span class="id" title="var">e</span> -<span class="id" title="var">ED</span>- <span class="id" title="var">d</span> -&gt;&gt; <span class="id" title="var">e'</span> <br/>
&nbsp;&nbsp;-&gt; <span class="id" title="var">False</span>. 
<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ovAbort_urgent</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">e</span> <span class="id" title="var">e'</span> : <span class="id" title="var">Entity</span>) (<span class="id" title="var">d</span> : <span class="id" title="var">Delay</span>),<br/>
&nbsp;&nbsp;<span class="id" title="var">reachableEnt</span> <span class="id" title="var">e</span> -&gt; <span class="id" title="var">ovAbortStateEnt</span> <span class="id" title="var">e</span> -&gt; <span class="id" title="var">e</span> -<span class="id" title="var">ED</span>- <span class="id" title="var">d</span> -&gt;&gt; <span class="id" title="var">e'</span> <br/>
&nbsp;&nbsp;-&gt; <span class="id" title="var">False</span>. <br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">tfsBc_urgent</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">e</span> <span class="id" title="var">e'</span> : <span class="id" title="var">Entity</span>) (<span class="id" title="var">d</span> : <span class="id" title="var">Delay</span>),<br/>
&nbsp;&nbsp;<span class="id" title="var">reachableEnt</span> <span class="id" title="var">e</span> -&gt; <span class="id" title="var">tfsBcStateEnt</span> <span class="id" title="var">e</span> -&gt; <span class="id" title="var">e</span> -<span class="id" title="var">ED</span>- <span class="id" title="var">d</span> -&gt;&gt; <span class="id" title="var">e'</span> <br/>
&nbsp;&nbsp;-&gt; <span class="id" title="var">False</span>. <br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">switchBc_urgent</span> (<span class="id" title="var">m</span> : <span class="id" title="var">Mode</span>) : <span class="id" title="keyword">forall</span> (<span class="id" title="var">e</span> <span class="id" title="var">e'</span> : <span class="id" title="var">Entity</span>) (<span class="id" title="var">d</span> : <span class="id" title="var">Delay</span>),<br/>
&nbsp;&nbsp;<span class="id" title="var">reachableEnt</span> <span class="id" title="var">e</span> -&gt; <span class="id" title="var">switchBcStateEnt</span> <span class="id" title="var">m</span> <span class="id" title="var">e</span> -&gt; <span class="id" title="var">e</span> -<span class="id" title="var">ED</span>- <span class="id" title="var">d</span> -&gt;&gt; <span class="id" title="var">e'</span> <br/>
&nbsp;&nbsp;-&gt; <span class="id" title="var">False</span>. <br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">swithcCurr_urgent</span> (<span class="id" title="var">m</span> : <span class="id" title="var">Mode</span>) : <span class="id" title="keyword">forall</span> (<span class="id" title="var">e</span> <span class="id" title="var">e'</span> : <span class="id" title="var">Entity</span>) (<span class="id" title="var">d</span> : <span class="id" title="var">Delay</span>),<br/>
&nbsp;&nbsp;<span class="id" title="var">reachableEnt</span> <span class="id" title="var">e</span> -&gt; <span class="id" title="var">switchCurrStateEnt</span> <span class="id" title="var">e</span> -&gt; <span class="id" title="var">e</span> -<span class="id" title="var">ED</span>- <span class="id" title="var">d</span> -&gt;&gt; <span class="id" title="var">e'</span> <br/>
&nbsp;&nbsp;-&gt; <span class="id" title="var">False</span>. <br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">switchListen_urgent</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">e</span> <span class="id" title="var">e'</span> : <span class="id" title="var">Entity</span>) (<span class="id" title="var">d</span> : <span class="id" title="var">Delay</span>),<br/>
&nbsp;&nbsp;<span class="id" title="var">reachableEnt</span> <span class="id" title="var">e</span> -&gt; <span class="id" title="var">switchListenStateEnt</span> <span class="id" title="var">e</span> -&gt; <span class="id" title="var">e</span> -<span class="id" title="var">ED</span>- <span class="id" title="var">d</span> -&gt;&gt; <span class="id" title="var">e'</span> <br/>
&nbsp;&nbsp;-&gt; <span class="id" title="var">False</span>. <br/>

<br/>

<br/>

<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">msgAbortPathEnt_urgent</span> <span class="id" title="var">e</span> <span class="id" title="var">e'</span> <span class="id" title="var">d</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">reachableEnt</span> <span class="id" title="var">e</span> -&gt; <span class="id" title="var">msgAbortPathEnt</span> <span class="id" title="var">e</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">e</span> -<span class="id" title="var">ED</span>- <span class="id" title="var">d</span> -&gt;&gt; <span class="id" title="var">e'</span> -&gt; <span class="id" title="var">False</span>. <br/>

<br/>
</div>

<div class="doc">
The interface component is irrelevant to the msgAbortPath.
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">msgAbort_inter_irrel</span> <span class="id" title="var">p</span> <span class="id" title="var">l</span> <span class="id" title="var">h</span> <span class="id" title="var">h'</span> <span class="id" title="var">k</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">msgAbortPathEnt</span> ([|<span class="id" title="var">p</span>, <span class="id" title="var">l</span>, <span class="id" title="var">h</span>, <span class="id" title="var">k</span>|]) -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">msgAbortPathEnt</span> ([|<span class="id" title="var">p</span>, <span class="id" title="var">l</span>, <span class="id" title="var">h'</span>, <span class="id" title="var">k</span>|]). <br/>

<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">del_listening_pre</span> (<span class="id" title="var">e</span> <span class="id" title="var">e'</span> : <span class="id" title="var">Entity</span>) (<span class="id" title="var">d</span> : <span class="id" title="var">Delay</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">reachableEnt</span> <span class="id" title="var">e</span> -&gt; <span class="id" title="var">e</span> -<span class="id" title="var">ED</span>- <span class="id" title="var">d</span> -&gt;&gt; <span class="id" title="var">e'</span> -&gt; <br/>
&nbsp;&nbsp;<span class="id" title="var">abortOvlpStateEnt</span> <span class="id" title="var">e</span> \/ <span class="id" title="var">badOvlpStateEnt</span> <span class="id" title="var">e</span> \/ <span class="id" title="var">listeningStateEnt</span> <span class="id" title="var">e</span> \/ <span class="id" title="var">pausedStateEnt</span> <span class="id" title="var">e</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">del_ovlp</span> (<span class="id" title="var">e</span> <span class="id" title="var">e'</span> : <span class="id" title="var">Entity</span>) (<span class="id" title="var">d</span> : <span class="id" title="var">Delay</span>) : <br/>
&nbsp;&nbsp;<span class="id" title="var">reachableEnt</span> <span class="id" title="var">e</span> -&gt; <span class="id" title="var">e</span> -<span class="id" title="var">ED</span>- <span class="id" title="var">d</span> -&gt;&gt; <span class="id" title="var">e'</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">dormantStateEnt</span> <span class="id" title="var">e</span> \/ <span class="id" title="var">tfsCurrStateEnt</span> <span class="id" title="var">e</span> \/<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">m</span>, <span class="id" title="tactic">exists</span> <span class="id" title="var">t</span>, <span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>, <span class="id" title="tactic">exists</span> <span class="id" title="var">y</span>, <span class="id" title="var">ovWaitStateEnt</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span> . 
<br/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">del_listening</span> (<span class="id" title="var">e</span> <span class="id" title="var">e'</span> : <span class="id" title="var">Entity</span>) (<span class="id" title="var">d</span> : <span class="id" title="var">Delay</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">reachableEnt</span> <span class="id" title="var">e</span> -&gt; <span class="id" title="var">e</span> -<span class="id" title="var">ED</span>- <span class="id" title="var">d</span> -&gt;&gt; <span class="id" title="var">e'</span> -&gt; <span class="id" title="var">listeningStateEnt</span> <span class="id" title="var">e</span>. 
<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">switchCurr_switch_ent</span> (<span class="id" title="var">e</span> : <span class="id" title="var">Entity</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">switchCurrStateEnt</span> <span class="id" title="var">e</span> -&gt; <span class="id" title="var">switchStateEnt</span> <span class="id" title="var">e</span>. <br/>

<br/>

<br/>
</div>

<div class="doc">
If the software components of an entity transition are not equal, then
the transition is necessarily a tau action, and either the process performs a tau,
synchs with the interface, synchs with the mode state or reads the current position.
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">link_ent_proc_neq_disc</span> <span class="id" title="var">p</span> <span class="id" title="var">p'</span> <span class="id" title="var">h</span> <span class="id" title="var">h'</span> <span class="id" title="var">l</span> <span class="id" title="var">l'</span> <span class="id" title="var">k</span> <span class="id" title="var">k'</span> <span class="id" title="var">a</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">p</span> &lt;&gt; <span class="id" title="var">p'</span> -&gt; [|<span class="id" title="var">p</span>, <span class="id" title="var">l</span>, <span class="id" title="var">h</span>, <span class="id" title="var">k</span>|] -<span class="id" title="var">EA</span>- <span class="id" title="var">a</span> -&gt;&gt; [|<span class="id" title="var">p'</span>, <span class="id" title="var">l'</span>, <span class="id" title="var">h'</span>, <span class="id" title="var">k'</span>|] -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">a</span> = <span class="id" title="var">aeTau</span> /\ ( <br/>
&nbsp;&nbsp;<span class="id" title="var">p</span> -<span class="id" title="var">PA</span>- <span class="id" title="var">tauAct</span> -<span class="id" title="var">PA</span>&gt; <span class="id" title="var">p'</span> \/<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">exists</span> <span class="id" title="var">h'</span> <span class="id" title="var">c</span> <span class="id" title="var">v</span>, <span class="id" title="var">p</span> -<span class="id" title="var">PA</span>- <span class="id" title="var">c</span> ;! <span class="id" title="var">v</span> -<span class="id" title="var">PA</span>&gt; <span class="id" title="var">p'</span> /\ <span class="id" title="var">h</span> -<span class="id" title="var">i</span>- <span class="id" title="var">c</span> {? <span class="id" title="var">v</span> -<span class="id" title="var">i</span>&gt; <span class="id" title="var">h'</span>) \/<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">exists</span> <span class="id" title="var">h'</span> <span class="id" title="var">c</span> <span class="id" title="var">v</span>, <span class="id" title="var">p</span> -<span class="id" title="var">PA</span>- <span class="id" title="var">c</span> ;? <span class="id" title="var">v</span> -<span class="id" title="var">PA</span>&gt; <span class="id" title="var">p'</span> /\ <span class="id" title="var">h</span> -<span class="id" title="var">i</span>- <span class="id" title="var">c</span> {! <span class="id" title="var">v</span> -<span class="id" title="var">i</span>&gt; <span class="id" title="var">h'</span>) \/<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">exists</span> <span class="id" title="var">k'</span> <span class="id" title="var">c</span> <span class="id" title="var">m</span>, <span class="id" title="var">p</span> -<span class="id" title="var">PA</span>- <span class="id" title="var">c</span> ;! [<span class="id" title="var">baseMode</span> <span class="id" title="var">m</span>] -<span class="id" title="var">PA</span>&gt; <span class="id" title="var">p'</span> /\ <span class="id" title="var">k</span> -<span class="id" title="var">ms</span>- <span class="id" title="var">c</span> .? <span class="id" title="var">m</span> -<span class="id" title="var">ms</span>&gt; <span class="id" title="var">k'</span>) \/<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">exists</span> <span class="id" title="var">k'</span> <span class="id" title="var">c</span> <span class="id" title="var">m</span>, <span class="id" title="var">p</span> -<span class="id" title="var">PA</span>- <span class="id" title="var">c</span> ;? [<span class="id" title="var">baseMode</span> <span class="id" title="var">m</span>] -<span class="id" title="var">PA</span>&gt; <span class="id" title="var">p'</span> /\ <span class="id" title="var">k</span> -<span class="id" title="var">ms</span>- <span class="id" title="var">c</span> .! <span class="id" title="var">m</span> -<span class="id" title="var">ms</span>&gt; <span class="id" title="var">k'</span>) \/<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">exists</span> <span class="id" title="var">k'</span> <span class="id" title="var">c</span>, <span class="id" title="var">p</span> -<span class="id" title="var">PA</span>- <span class="id" title="var">c</span> *! -<span class="id" title="var">PA</span>&gt; <span class="id" title="var">p'</span> /\ <span class="id" title="var">k</span> -<span class="id" title="var">ms</span>- <span class="id" title="var">c</span> @? -<span class="id" title="var">ms</span>&gt; <span class="id" title="var">k'</span>) \/<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">exists</span> <span class="id" title="var">k'</span> <span class="id" title="var">c</span>, <span class="id" title="var">p</span> -<span class="id" title="var">PA</span>- <span class="id" title="var">c</span> *? -<span class="id" title="var">PA</span>&gt; <span class="id" title="var">p'</span> /\ <span class="id" title="var">k</span> -<span class="id" title="var">ms</span>- <span class="id" title="var">c</span> @! -<span class="id" title="var">ms</span>&gt; <span class="id" title="var">k'</span>) \/<br/>
&nbsp;&nbsp;<span class="id" title="var">p</span> -<span class="id" title="var">PA</span>- <span class="id" title="var">chanPos</span> ;? [<span class="id" title="var">basePosition</span> <span class="id" title="var">l</span>] -<span class="id" title="var">PA</span>&gt; <span class="id" title="var">p'</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">nextEq_mode</span> (<span class="id" title="var">m'</span> <span class="id" title="var">m''</span> : <span class="id" title="var">Mode</span>) (<span class="id" title="var">e</span> : <span class="id" title="var">Entity</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">nextEqStateEnt</span> <span class="id" title="var">m'</span> <span class="id" title="var">m''</span> <span class="id" title="var">e</span> -&gt; <span class="id" title="var">nextModeEnt</span> <span class="id" title="var">m'</span> <span class="id" title="var">e</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">nextMode_ent_mState</span> <span class="id" title="var">p</span> <span class="id" title="var">l</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span> <span class="id" title="var">m</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">nextModeEnt</span> <span class="id" title="var">m</span> ([|<span class="id" title="var">p</span>, <span class="id" title="var">l</span>, <span class="id" title="var">h</span>, <span class="id" title="var">k</span>|]) -&gt; <span class="id" title="var">nextModeMState</span> <span class="id" title="var">k</span> = <span class="id" title="var">Some</span> <span class="id" title="var">m</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">stepEnt_disc_pres_pos</span> (<span class="id" title="var">e</span> <span class="id" title="var">e'</span> : <span class="id" title="var">Entity</span>) <span class="id" title="var">a</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">e</span> -<span class="id" title="var">EA</span>- <span class="id" title="var">a</span> -&gt;&gt; <span class="id" title="var">e'</span> -&gt; <span class="id" title="var">posEnt</span> <span class="id" title="var">e</span> = <span class="id" title="var">posEnt</span> <span class="id" title="var">e'</span>. <br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">ent_disc_pres_pos_tac</span> := <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;[<span class="id" title="var">V</span> : [|<span class="id" title="var">_</span>, ?<span class="id" title="var">l</span>, <span class="id" title="var">_</span>, <span class="id" title="var">_</span>|] -<span class="id" title="var">EA</span>- ?<span class="id" title="var">b</span> -&gt;&gt; [|<span class="id" title="var">_</span>, ?<span class="id" title="var">l'</span>, <span class="id" title="var">_</span>, <span class="id" title="var">_</span>|] |- <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">EDP</span> := <span class="id" title="tactic">fresh</span> "EDP" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">EDP</span> : <span class="id" title="var">stepEnt_disc_pres_pos</span> <span class="id" title="var">V</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">EDP</span> <span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">gotMsg_gotRange_track_ent</span> (<span class="id" title="var">m</span> <span class="id" title="var">m'</span> : <span class="id" title="var">Mode</span>) (<span class="id" title="var">l</span> <span class="id" title="var">l'</span> <span class="id" title="var">l1</span> : <span class="id" title="var">Position</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">r</span> : <span class="id" title="var">Distance</span>) (<span class="id" title="var">p</span> <span class="id" title="var">p'</span> : <span class="id" title="var">ProcTerm</span>) <span class="id" title="var">h</span> <span class="id" title="var">h'</span> <span class="id" title="var">k</span> <span class="id" title="var">k'</span> <span class="id" title="var">a</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">gotMsgStateEnt</span> <span class="id" title="var">m</span> <span class="id" title="var">l1</span> ([|<span class="id" title="var">p</span>, <span class="id" title="var">l</span>, <span class="id" title="var">h</span>, <span class="id" title="var">k</span>|]) -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">gotRangeStateEnt</span> <span class="id" title="var">m'</span> <span class="id" title="var">r</span> ([|<span class="id" title="var">p'</span>, <span class="id" title="var">l'</span>, <span class="id" title="var">h'</span>, <span class="id" title="var">k'</span>|]) -&gt;<br/>
&nbsp;&nbsp;[|<span class="id" title="var">p</span>, <span class="id" title="var">l</span>, <span class="id" title="var">h</span>, <span class="id" title="var">k</span>|] -<span class="id" title="var">EA</span>- <span class="id" title="var">a</span> -&gt;&gt; [|<span class="id" title="var">p'</span>, <span class="id" title="var">l'</span>, <span class="id" title="var">h'</span>, <span class="id" title="var">k'</span>|] -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">l</span> = <span class="id" title="var">l'</span> /\ <span class="id" title="var">m</span> = <span class="id" title="var">m'</span> /\<br/>
&nbsp;&nbsp;<span class="id" title="var">r</span> = {| <span class="id" title="var">distance</span> := <span class="id" title="var">dist2d</span> <span class="id" title="var">l</span> <span class="id" title="var">l1</span> -<span class="id" title="var">nn</span>- <span class="id" title="var">speedMax</span> *<span class="id" title="var">nn</span>* <span class="id" title="var">msgLatency</span> |}.<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">gotRange_currPincCheck_track_ent</span> (<span class="id" title="var">m2</span> <span class="id" title="var">m1'</span> <span class="id" title="var">m2'</span> : <span class="id" title="var">Mode</span>) (<span class="id" title="var">l</span> <span class="id" title="var">l'</span> : <span class="id" title="var">Position</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">r</span> <span class="id" title="var">r'</span> : <span class="id" title="var">Distance</span>) (<span class="id" title="var">p</span> <span class="id" title="var">p'</span> : <span class="id" title="var">ProcTerm</span>) <span class="id" title="var">h</span> <span class="id" title="var">h'</span> <span class="id" title="var">k</span> <span class="id" title="var">k'</span> <span class="id" title="var">a</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">gotRangeStateEnt</span> <span class="id" title="var">m2</span> <span class="id" title="var">r</span> ([|<span class="id" title="var">p</span>, <span class="id" title="var">l</span>, <span class="id" title="var">h</span>, <span class="id" title="var">k</span>|]) -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">currPincCheckStateEnt</span> <span class="id" title="var">m1'</span> <span class="id" title="var">m2'</span> <span class="id" title="var">r'</span> ([|<span class="id" title="var">p'</span>, <span class="id" title="var">l'</span>, <span class="id" title="var">h'</span>, <span class="id" title="var">k'</span>|]) -&gt;<br/>
&nbsp;&nbsp;[|<span class="id" title="var">p</span>, <span class="id" title="var">l</span>, <span class="id" title="var">h</span>, <span class="id" title="var">k</span>|] -<span class="id" title="var">EA</span>- <span class="id" title="var">a</span> -&gt;&gt; [|<span class="id" title="var">p'</span>, <span class="id" title="var">l'</span>, <span class="id" title="var">h'</span>, <span class="id" title="var">k'</span>|] -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">m2</span> = <span class="id" title="var">m2'</span> /\ <span class="id" title="var">r</span> = <span class="id" title="var">r'</span> /\ <span class="id" title="var">m1'</span> = <span class="id" title="var">currModeMState</span> <span class="id" title="var">k</span>.<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">currComp_listening_track_ent</span> <span class="id" title="var">m''</span> <span class="id" title="var">r</span> <span class="id" title="var">l</span> <span class="id" title="var">l'</span> <span class="id" title="var">p</span> <span class="id" title="var">p'</span> <span class="id" title="var">h</span> <span class="id" title="var">h'</span> <span class="id" title="var">k</span> <span class="id" title="var">k'</span> <span class="id" title="var">a</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">currCompStateEnt</span> <span class="id" title="var">m''</span> <span class="id" title="var">r</span> ([|<span class="id" title="var">p</span>, <span class="id" title="var">l</span>, <span class="id" title="var">h</span>, <span class="id" title="var">k</span>|]) -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">listeningStateEnt</span> ([|<span class="id" title="var">p'</span>, <span class="id" title="var">l'</span>, <span class="id" title="var">h'</span>, <span class="id" title="var">k'</span>|]) -&gt;<br/>
&nbsp;&nbsp;[|<span class="id" title="var">p</span>, <span class="id" title="var">l</span>, <span class="id" title="var">h</span>, <span class="id" title="var">k</span>|] -<span class="id" title="var">EA</span>- <span class="id" title="var">a</span> -&gt;&gt; [|<span class="id" title="var">p'</span>, <span class="id" title="var">l'</span>, <span class="id" title="var">h'</span>, <span class="id" title="var">k'</span>|] -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">k</span> -<span class="id" title="var">ms</span>- <span class="id" title="var">chanMStable</span> @! -<span class="id" title="var">ms</span>&gt; <span class="id" title="var">k'</span> /\ <span class="id" title="var">h</span> = <span class="id" title="var">h'</span>. <br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">currComp_nextPincCheck_track_ent</span> (<span class="id" title="var">m2</span> <span class="id" title="var">m1'</span> <span class="id" title="var">m2'</span> : <span class="id" title="var">Mode</span>) (<span class="id" title="var">l</span> <span class="id" title="var">l'</span> : <span class="id" title="var">Position</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">r</span> <span class="id" title="var">r'</span> : <span class="id" title="var">Distance</span>) (<span class="id" title="var">p</span> <span class="id" title="var">p'</span> : <span class="id" title="var">ProcTerm</span>) <span class="id" title="var">h</span> <span class="id" title="var">h'</span> <span class="id" title="var">k</span> <span class="id" title="var">k'</span> <span class="id" title="var">a</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">currCompStateEnt</span> <span class="id" title="var">m2</span> <span class="id" title="var">r</span> ([|<span class="id" title="var">p</span>, <span class="id" title="var">l</span>, <span class="id" title="var">h</span>, <span class="id" title="var">k</span>|]) -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">nextPincCheckStateEnt</span> <span class="id" title="var">m1'</span> <span class="id" title="var">m2'</span> <span class="id" title="var">r'</span> ([|<span class="id" title="var">p'</span>, <span class="id" title="var">l'</span>, <span class="id" title="var">h'</span>, <span class="id" title="var">k'</span>|]) -&gt;<br/>
&nbsp;&nbsp;[|<span class="id" title="var">p</span>, <span class="id" title="var">l</span>, <span class="id" title="var">h</span>, <span class="id" title="var">k</span>|] -<span class="id" title="var">EA</span>- <span class="id" title="var">a</span> -&gt;&gt; [|<span class="id" title="var">p'</span>, <span class="id" title="var">l'</span>, <span class="id" title="var">h'</span>, <span class="id" title="var">k'</span>|] -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">m2</span> = <span class="id" title="var">m2'</span> /\ <span class="id" title="var">r</span> = <span class="id" title="var">r'</span> /\ <span class="id" title="var">nextModeMState</span> <span class="id" title="var">k</span> = <span class="id" title="var">Some</span> <span class="id" title="var">m1'</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ovReady_ovWait_track_ent</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">t</span> <span class="id" title="var">t'</span> <span class="id" title="var">x'</span> <span class="id" title="var">y'</span> <span class="id" title="var">l0</span> <span class="id" title="var">a</span><br/>
&nbsp;&nbsp;<span class="id" title="var">p</span> <span class="id" title="var">p'</span> <span class="id" title="var">l</span> <span class="id" title="var">l'</span> <span class="id" title="var">h</span> <span class="id" title="var">h'</span> <span class="id" title="var">k</span> <span class="id" title="var">k'</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">ovReadyStateEnt</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">l0</span> ([|<span class="id" title="var">p</span>, <span class="id" title="var">l</span>, <span class="id" title="var">h</span>, <span class="id" title="var">k</span>|]) -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">ovWaitStateEnt</span> <span class="id" title="var">m'</span> <span class="id" title="var">t'</span> <span class="id" title="var">x'</span> <span class="id" title="var">y'</span> ([|<span class="id" title="var">p'</span>, <span class="id" title="var">l'</span>, <span class="id" title="var">h'</span>, <span class="id" title="var">k'</span>|]) -&gt;<br/>
&nbsp;&nbsp;[|<span class="id" title="var">p</span>, <span class="id" title="var">l</span>, <span class="id" title="var">h</span>, <span class="id" title="var">k</span>|] -<span class="id" title="var">EA</span>- <span class="id" title="var">a</span> -&gt;&gt; [|<span class="id" title="var">p'</span>, <span class="id" title="var">l'</span>, <span class="id" title="var">h'</span>, <span class="id" title="var">k'</span>|] -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">p</span> -<span class="id" title="var">PA</span>- <span class="id" title="var">chanOutProc</span> ;! [<span class="id" title="var">baseMode</span> <span class="id" title="var">m</span>, <span class="id" title="var">basePosition</span> <span class="id" title="var">l0</span>] -<span class="id" title="var">PA</span>&gt; <span class="id" title="var">p'</span> /\<br/>
&nbsp;&nbsp;<span class="id" title="var">h</span> -<span class="id" title="var">i</span>- <span class="id" title="var">chanOutProc</span> {? [<span class="id" title="var">baseMode</span> <span class="id" title="var">m</span>, <span class="id" title="var">basePosition</span> <span class="id" title="var">l0</span>] -<span class="id" title="var">i</span>&gt; <span class="id" title="var">h'</span> /\<br/>
&nbsp;&nbsp;<span class="id" title="var">k</span> = <span class="id" title="var">k'</span> /\ <span class="id" title="var">m</span> = <span class="id" title="var">m'</span> /\ <span class="id" title="var">l</span> = <span class="id" title="var">l0</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">tfsStart_next_ent</span> <span class="id" title="var">e</span> <span class="id" title="var">e'</span> <span class="id" title="var">a</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">e</span> -<span class="id" title="var">EA</span>- <span class="id" title="var">a</span> -&gt;&gt; <span class="id" title="var">e'</span> -&gt; <span class="id" title="var">tfsStartStateEnt</span> <span class="id" title="var">e</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">tfsStartStateEnt</span> <span class="id" title="var">e'</span> \/ <span class="id" title="tactic">exists</span> <span class="id" title="var">m</span>, <span class="id" title="var">tfsNextStateEnt</span> <span class="id" title="var">m</span> <span class="id" title="var">e'</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">tfsNext_next_ent</span> <span class="id" title="var">e</span> <span class="id" title="var">e'</span> <span class="id" title="var">a</span> <span class="id" title="var">m</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">e</span> -<span class="id" title="var">EA</span>- <span class="id" title="var">a</span> -&gt;&gt; <span class="id" title="var">e'</span> -&gt; <span class="id" title="var">tfsNextStateEnt</span> <span class="id" title="var">m</span> <span class="id" title="var">e</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">tfsNextStateEnt</span> <span class="id" title="var">m</span> <span class="id" title="var">e'</span> \/ <span class="id" title="var">tfsCurrStateEnt</span> <span class="id" title="var">e'</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">tfsCurr_next_ent</span> <span class="id" title="var">e</span> <span class="id" title="var">e'</span> <span class="id" title="var">a</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">e</span> -<span class="id" title="var">EA</span>- <span class="id" title="var">a</span> -&gt;&gt; <span class="id" title="var">e'</span> -&gt; <span class="id" title="var">tfsCurrStateEnt</span> <span class="id" title="var">e</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">tfsCurrStateEnt</span> <span class="id" title="var">e'</span> \/ <span class="id" title="var">tfsBcStateEnt</span> <span class="id" title="var">e'</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">tfsBc_next_ent</span> <span class="id" title="var">e</span> <span class="id" title="var">e'</span> <span class="id" title="var">a</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">e</span> -<span class="id" title="var">EA</span>- <span class="id" title="var">a</span> -&gt;&gt; <span class="id" title="var">e'</span> -&gt; <span class="id" title="var">tfsBcStateEnt</span> <span class="id" title="var">e</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">tfsBcStateEnt</span> <span class="id" title="var">e'</span> \/ <span class="id" title="var">tfsListenStateEnt</span> <span class="id" title="var">e'</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">tfsListen_next_ent</span> <span class="id" title="var">e</span> <span class="id" title="var">e'</span> <span class="id" title="var">a</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">e</span> -<span class="id" title="var">EA</span>- <span class="id" title="var">a</span> -&gt;&gt; <span class="id" title="var">e'</span> -&gt; <span class="id" title="var">tfsListenStateEnt</span> <span class="id" title="var">e</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">tfsListenStateEnt</span> <span class="id" title="var">e'</span> \/ <span class="id" title="var">dormantStateEnt</span> <span class="id" title="var">e'</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">link_ent_outList</span> <span class="id" title="var">p</span> <span class="id" title="var">p'</span> <span class="id" title="var">l</span> <span class="id" title="var">l'</span> <span class="id" title="var">k</span> <span class="id" title="var">k'</span> <span class="id" title="var">li</span> <span class="id" title="var">li'</span> <span class="id" title="var">lo</span> <span class="id" title="var">lo'</span> <span class="id" title="var">ln</span> <span class="id" title="var">ln'</span> <span class="id" title="var">b</span> :<br/>
&nbsp;&nbsp;[|<span class="id" title="var">p</span>, <span class="id" title="var">l</span>, {| <span class="id" title="var">li</span> := <span class="id" title="var">li</span>; <span class="id" title="var">lo</span> := <span class="id" title="var">lo</span>; <span class="id" title="var">ln</span> := <span class="id" title="var">ln</span> |}, <span class="id" title="var">k</span>|] -<span class="id" title="var">EA</span>- <span class="id" title="var">b</span> -&gt;&gt;<br/>
&nbsp;&nbsp;[|<span class="id" title="var">p'</span>, <span class="id" title="var">l'</span>, {| <span class="id" title="var">li</span> := <span class="id" title="var">li'</span>; <span class="id" title="var">lo</span> := <span class="id" title="var">lo'</span>; <span class="id" title="var">ln</span> := <span class="id" title="var">ln'</span> |}, <span class="id" title="var">k'</span>|] -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">lo</span> = <span class="id" title="var">lo'</span> \/ <span class="id" title="tactic">exists</span> <span class="id" title="var">v</span>, <span class="id" title="var">outList</span> <span class="id" title="var">lo</span> -<span class="id" title="var">tl</span>- <span class="id" title="var">v</span> ?? -<span class="id" title="var">tl</span>&gt; <span class="id" title="var">outList</span> <span class="id" title="var">lo'</span><br/>
&nbsp;&nbsp;\/ <span class="id" title="var">outList</span> <span class="id" title="var">lo</span> -<span class="id" title="var">tl</span>- <span class="id" title="var">v</span> !! -<span class="id" title="var">tl</span>&gt; <span class="id" title="var">outList</span> <span class="id" title="var">lo'</span>. 
<br/>
</div>
<hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>