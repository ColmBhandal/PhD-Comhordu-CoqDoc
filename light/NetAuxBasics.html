<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>NetAuxBasics</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library NetAuxBasics</h1>

<div class="code">
</div>

<div class="doc">
This file was written by Colm Bhandal, PhD student, Foundations and Methods group,
School of Computer Science and Statistics, Trinity College, Dublin, Ireland.
<div class="paragraph"> </div>

*************************** Standard Imports 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Reals</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">List</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">ComhCoq.Extras.LibTactics</span>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">ComhCoq.StandardResults</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">ComhCoq.ComhBasics</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">ComhCoq.LanguageFoundations</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">ComhCoq.SoftwareLanguage</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">ComhCoq.InterfaceLanguage</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">ComhCoq.ModeStateLanguage</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">ComhCoq.EntityLanguage</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">ComhCoq.NetworkLanguage</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">ComhCoq.ProtAuxDefs</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">ComhCoq.ProtAuxResults</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">ComhCoq.EntAuxDefs</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">ComhCoq.EntAuxResults</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">ComhCoq.GenTacs</span>.<br/>

<br/>

<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <span class="id" title="var">initialNet</span> : <span class="id" title="var">Network</span> -&gt; <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id" title="var">initNtNil</span> : <span class="id" title="var">initialNet</span> []<br/>
&nbsp;&nbsp;| <span class="id" title="var">initNtCons</span> <span class="id" title="var">e</span> <span class="id" title="var">n</span> : <span class="id" title="var">initialEnt</span> <span class="id" title="var">e</span> -&gt; <span class="id" title="var">initialNet</span> <span class="id" title="var">n</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">initialNet</span> (<span class="id" title="var">e</span> :: <span class="id" title="var">n</span>).<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <span class="id" title="var">reachableNet</span> : <span class="id" title="var">Network</span> -&gt; <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;| <span class="id" title="var">reachNetInit</span> (<span class="id" title="var">n</span> : <span class="id" title="var">Network</span>) : <span class="id" title="var">initialNet</span> <span class="id" title="var">n</span> -&gt; <span class="id" title="var">reachableNet</span> <span class="id" title="var">n</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">reachNetDisc</span> (<span class="id" title="var">n</span> <span class="id" title="var">n'</span> : <span class="id" title="var">Network</span>) (<span class="id" title="var">a</span> : <span class="id" title="var">ActDiscNet</span>) : <span class="id" title="var">reachableNet</span> <span class="id" title="var">n</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">n</span> -<span class="id" title="var">NA</span>- <span class="id" title="var">a</span> -<span class="id" title="var">NA</span>&gt; <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">reachableNet</span> <span class="id" title="var">n'</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">reachNetDel</span> (<span class="id" title="var">n</span> <span class="id" title="var">n'</span> : <span class="id" title="var">Network</span>) (<span class="id" title="var">d</span> : <span class="id" title="var">Delay</span>) : <span class="id" title="var">reachableNet</span> <span class="id" title="var">n</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">n</span> -<span class="id" title="var">ND</span>- <span class="id" title="var">d</span> -<span class="id" title="var">ND</span>&gt; <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">reachableNet</span> <span class="id" title="var">n'</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">link_net_prot_reach</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span> <span class="id" title="var">l</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span> <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">reachableNet</span> <span class="id" title="var">n</span> -&gt;  [|<span class="id" title="var">p</span>, <span class="id" title="var">l</span>, <span class="id" title="var">h</span>, <span class="id" title="var">k</span>|] @ <span class="id" title="var">i</span> .: <span class="id" title="var">n</span> -&gt; <span class="id" title="var">reachableProt</span> <span class="id" title="var">p</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">link_netprotreach_tac</span> <span class="id" title="var">U</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;[<span class="id" title="var">H</span> : <span class="id" title="var">reachableNet</span> ?<span class="id" title="var">n</span>, <span class="id" title="var">H0</span> : [|<span class="id" title="var">_</span>, <span class="id" title="var">_</span>, <span class="id" title="var">_</span>, <span class="id" title="var">_</span>|] @ <span class="id" title="var">_</span> .: ?<span class="id" title="var">n</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">U1</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="var">U</span> <span class="id" title="tactic">in</span> <span class="id" title="var">lets</span> <span class="id" title="var">U1</span> : <span class="id" title="var">link_net_prot_reach</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Parameter</span> <span class="id" title="var">currModeNet</span> : <span class="id" title="var">Mode</span> -&gt; <span class="id" title="var">nat</span> -&gt; <span class="id" title="var">Network</span> -&gt; <span class="id" title="keyword">Prop</span>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <span class="id" title="var">transGuard</span> (<span class="id" title="var">t</span> : <span class="id" title="keyword">Time</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">n</span> : <span class="id" title="var">Network</span>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id" title="var">tgWitness</span> (<span class="id" title="var">p</span> : <span class="id" title="var">ProcTerm</span>) (<span class="id" title="var">l</span> : <span class="id" title="var">Position</span>) (<span class="id" title="var">h</span> : <span class="id" title="var">Interface</span>) (<span class="id" title="var">m</span> <span class="id" title="var">m'</span> : <span class="id" title="var">Mode</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="id" title="var">p</span> , <span class="id" title="var">l</span> , <span class="id" title="var">h</span> , &lt;| <span class="id" title="var">m</span> , <span class="id" title="var">m'</span> , <span class="id" title="var">t</span> |&gt; |] @ <span class="id" title="var">i</span> .: <span class="id" title="var">n</span> -&gt; <span class="id" title="var">transGuard</span> <span class="id" title="var">t</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>.<br/>

<br/>
<span class="id" title="keyword">Parameter</span> <span class="id" title="var">nextModeNet</span> : <span class="id" title="var">Mode</span> -&gt; <span class="id" title="var">nat</span> -&gt; <span class="id" title="var">Network</span> -&gt; <span class="id" title="keyword">Prop</span>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <span class="id" title="var">inPosNet</span> (<span class="id" title="var">l</span> : <span class="id" title="var">Position</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">n</span> : <span class="id" title="var">Network</span>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id" title="var">ipWitness</span> (<span class="id" title="var">p</span> : <span class="id" title="var">ProcTerm</span>) (<span class="id" title="var">h</span> : <span class="id" title="var">Interface</span>) (<span class="id" title="var">k</span> : <span class="id" title="var">ModeState</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="id" title="var">p</span> , <span class="id" title="var">l</span> , <span class="id" title="var">h</span> , <span class="id" title="var">k</span> |] @ <span class="id" title="var">i</span> .: <span class="id" title="var">n</span> -&gt; <span class="id" title="var">inPosNet</span> <span class="id" title="var">l</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <span class="id" title="var">distNet</span> (<span class="id" title="var">i</span> <span class="id" title="var">i'</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">n</span> : <span class="id" title="var">Network</span>) : <span class="id" title="var">Distance</span> -&gt; <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id" title="var">dnWitness</span> (<span class="id" title="var">l</span> <span class="id" title="var">l'</span> : <span class="id" title="var">Position</span>) : <span class="id" title="var">inPosNet</span> <span class="id" title="var">l</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt; <span class="id" title="var">inPosNet</span> <span class="id" title="var">l'</span> <span class="id" title="var">i'</span> <span class="id" title="var">n</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">distNet</span> <span class="id" title="var">i</span> <span class="id" title="var">i'</span> <span class="id" title="var">n</span> (<span class="id" title="var">distFun</span> <span class="id" title="var">l</span> <span class="id" title="var">l'</span>).<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <span class="id" title="var">outgoing</span> (<span class="id" title="var">v</span> : <span class="id" title="var">list</span> <span class="id" title="var">BaseType</span>) (<span class="id" title="var">t</span> : <span class="id" title="keyword">Time</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">n</span> : <span class="id" title="var">Network</span>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id" title="var">ogWitness</span> (<span class="id" title="var">p</span> : <span class="id" title="var">ProcTerm</span>) (<span class="id" title="var">l</span> : <span class="id" title="var">Position</span>) (<span class="id" title="var">li</span> : <span class="id" title="var">InputList</span>) (<span class="id" title="var">lo</span> : <span class="id" title="var">OutputList</span>) (<span class="id" title="var">ln</span> : <span class="id" title="var">NotifList</span>) (<span class="id" title="var">k</span> : <span class="id" title="var">ModeState</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="id" title="var">p</span> , <span class="id" title="var">l</span> , (<span class="id" title="var">mkInterface</span> <span class="id" title="var">li</span> <span class="id" title="var">lo</span> <span class="id" title="var">ln</span>) , <span class="id" title="var">k</span> |] @ <span class="id" title="var">i</span> .: <span class="id" title="var">n</span> -&gt; <span class="id" title="var">In</span> (&lt;( <span class="id" title="var">v</span> , <span class="id" title="var">t</span> )&gt;) (<span class="id" title="var">outList</span> <span class="id" title="var">lo</span>) -&gt; <span class="id" title="var">outgoing</span> <span class="id" title="var">v</span> <span class="id" title="var">t</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <span class="id" title="var">incomingNet</span> (<span class="id" title="var">v</span> : <span class="id" title="var">list</span> <span class="id" title="var">BaseType</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">n</span> : <span class="id" title="var">Network</span>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id" title="var">icWitness</span> (<span class="id" title="var">p</span> : <span class="id" title="var">ProcTerm</span>) (<span class="id" title="var">l</span> : <span class="id" title="var">Position</span>) (<span class="id" title="var">li</span> : <span class="id" title="var">InputList</span>) (<span class="id" title="var">lo</span> : <span class="id" title="var">OutputList</span>) (<span class="id" title="var">ln</span> : <span class="id" title="var">NotifList</span>) (<span class="id" title="var">k</span> : <span class="id" title="var">ModeState</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="id" title="var">p</span> , <span class="id" title="var">l</span> , (<span class="id" title="var">mkInterface</span> <span class="id" title="var">li</span> <span class="id" title="var">lo</span> <span class="id" title="var">ln</span>) , <span class="id" title="var">k</span> |] @ <span class="id" title="var">i</span> .: <span class="id" title="var">n</span> -&gt; <span class="id" title="var">In</span> (&lt;( <span class="id" title="var">v</span> , <span class="id" title="var">zeroTime</span> )&gt;) (<span class="id" title="var">inList</span> <span class="id" title="var">li</span>) -&gt; <span class="id" title="var">incomingNet</span> <span class="id" title="var">v</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <span class="id" title="var">incomingNetNotif</span> (<span class="id" title="var">v</span> : <span class="id" title="var">list</span> <span class="id" title="var">BaseType</span>) (<span class="id" title="var">t</span> : <span class="id" title="keyword">Time</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">n</span> : <span class="id" title="var">Network</span>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id" title="var">icnWitness</span> (<span class="id" title="var">p</span> : <span class="id" title="var">ProcTerm</span>) (<span class="id" title="var">l</span> : <span class="id" title="var">Position</span>) (<span class="id" title="var">li</span> : <span class="id" title="var">InputList</span>) (<span class="id" title="var">lo</span> : <span class="id" title="var">OutputList</span>) (<span class="id" title="var">ln</span> : <span class="id" title="var">NotifList</span>) (<span class="id" title="var">k</span> : <span class="id" title="var">ModeState</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="id" title="var">p</span> , <span class="id" title="var">l</span> , (<span class="id" title="var">mkInterface</span> <span class="id" title="var">li</span> <span class="id" title="var">lo</span> <span class="id" title="var">ln</span>) , <span class="id" title="var">k</span> |] @ <span class="id" title="var">i</span> .: <span class="id" title="var">n</span> -&gt; <span class="id" title="var">In</span> (&lt;( <span class="id" title="var">v</span> , <span class="id" title="var">t</span> )&gt;) (<span class="id" title="var">notifList</span> <span class="id" title="var">ln</span>) -&gt; <span class="id" title="var">incomingNetNotif</span> <span class="id" title="var">v</span> <span class="id" title="var">t</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <span class="id" title="var">mState_in_net</span> (<span class="id" title="var">k</span> : <span class="id" title="var">ModeState</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">n</span> : <span class="id" title="var">Network</span>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">minet</span> (<span class="id" title="var">p</span> : <span class="id" title="var">ProcTerm</span>) (<span class="id" title="var">l</span> : <span class="id" title="var">Position</span>) (<span class="id" title="var">h</span> : <span class="id" title="var">Interface</span>) :<br/>
&nbsp;&nbsp;[|<span class="id" title="var">p</span>, <span class="id" title="var">l</span>, <span class="id" title="var">h</span>, <span class="id" title="var">k</span>|] @ <span class="id" title="var">i</span> .: <span class="id" title="var">n</span> -&gt; <span class="id" title="var">mState_in_net</span> <span class="id" title="var">k</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <span class="id" title="var">liftEntNet</span> (<span class="id" title="var">X</span> : <span class="id" title="var">Entity</span> -&gt; <span class="id" title="keyword">Prop</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">n</span> : <span class="id" title="var">Network</span>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id" title="var">lenWitness</span> (<span class="id" title="var">e</span> : <span class="id" title="var">Entity</span>) : <span class="id" title="var">X</span> <span class="id" title="var">e</span> -&gt; <span class="id" title="var">e</span> @ <span class="id" title="var">i</span> .: <span class="id" title="var">n</span> -&gt; <span class="id" title="var">liftEntNet</span> <span class="id" title="var">X</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">bcWaitStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> := <span class="id" title="var">liftEntNet</span> (<span class="id" title="var">bcWaitStateEnt</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span>).<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">sleepingStateNet</span> := <span class="id" title="var">liftEntNet</span> <span class="id" title="var">sleepingStateEnt</span>.<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">bcReadyStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">l</span> := <span class="id" title="var">liftEntNet</span> (<span class="id" title="var">bcReadyStateEnt</span> <span class="id" title="var">m</span> <span class="id" title="var">l</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">dormantStateNet</span> := <span class="id" title="var">liftEntNet</span> <span class="id" title="var">dormantStateEnt</span>.<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">tfsStartStateNet</span> := <span class="id" title="var">liftEntNet</span> <span class="id" title="var">tfsStartStateEnt</span>.<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">initStateNet</span> <span class="id" title="var">m</span> := <span class="id" title="var">liftEntNet</span> (<span class="id" title="var">initStateEnt</span> <span class="id" title="var">m</span>).<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ovWaitStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> := <span class="id" title="var">liftEntNet</span> (<span class="id" title="var">ovWaitStateEnt</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>).<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ovReadyStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span> := <span class="id" title="var">liftEntNet</span> (<span class="id" title="var">ovReadyStateEnt</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span>).<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">switchCurrStateNet</span> := <span class="id" title="var">liftEntNet</span> <span class="id" title="var">switchCurrStateEnt</span>.<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">switchListenStateNet</span> := <span class="id" title="var">liftEntNet</span> <span class="id" title="var">switchListenStateEnt</span>.<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">switchBcStateNet</span> <span class="id" title="var">m</span> := <span class="id" title="var">liftEntNet</span> (<span class="id" title="var">switchBcStateEnt</span> <span class="id" title="var">m</span>).<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">tfsCurrStateNet</span> := <span class="id" title="var">liftEntNet</span> <span class="id" title="var">tfsCurrStateEnt</span>.<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">tfsBcStateNet</span> := <span class="id" title="var">liftEntNet</span> <span class="id" title="var">tfsBcStateEnt</span>.<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">tfsListenStateNet</span> := <span class="id" title="var">liftEntNet</span> <span class="id" title="var">tfsListenStateEnt</span>.<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">pausedStateNet</span> := <span class="id" title="var">liftEntNet</span> <span class="id" title="var">pausedStateEnt</span>.<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">tfsNextStateNet</span> <span class="id" title="var">m</span> := <span class="id" title="var">liftEntNet</span> (<span class="id" title="var">tfsNextStateEnt</span> <span class="id" title="var">m</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">listeningStateNet</span> := <span class="id" title="var">liftEntNet</span> <span class="id" title="var">listeningStateEnt</span>.<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">currCompStateNet</span> <span class="id" title="var">m''</span> <span class="id" title="var">r</span> := <span class="id" title="var">liftEntNet</span> (<span class="id" title="var">currCompStateEnt</span> <span class="id" title="var">m''</span> <span class="id" title="var">r</span>).<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">badOvlpStateNet</span> := <span class="id" title="var">liftEntNet</span> <span class="id" title="var">badOvlpStateEnt</span>.<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">rangeBadStateNet</span> <span class="id" title="var">m</span> := <span class="id" title="var">liftEntNet</span> (<span class="id" title="var">rangeBadStateEnt</span> <span class="id" title="var">m</span>).<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">currEqStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">m''</span> := <span class="id" title="var">liftEntNet</span> (<span class="id" title="var">currEqStateEnt</span> <span class="id" title="var">m</span> <span class="id" title="var">m''</span>).<br/>

<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">broadcastStateNet</span> :=  <span class="id" title="var">liftEntNet</span> <span class="id" title="var">broadcastStateEnt</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">overlapStateNet</span> := <span class="id" title="var">liftEntNet</span> <span class="id" title="var">overlapStateEnt</span>.<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">tfsStateNet</span> := <span class="id" title="var">liftEntNet</span> <span class="id" title="var">tfsStateEnt</span>.<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">nextSinceStateNet</span> := <span class="id" title="var">liftEntNet</span> (<span class="id" title="var">nextSinceStateEnt</span>).<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">switchStateNet</span> := <span class="id" title="var">liftEntNet</span> <span class="id" title="var">switchStateEnt</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">listenerStateNet</span> := <span class="id" title="var">liftEntNet</span> <span class="id" title="var">listenerStateEnt</span>.<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ovAbortStateNet</span> := <span class="id" title="var">liftEntNet</span> <span class="id" title="var">ovAbortStateEnt</span>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Conjecture</span> <span class="id" title="var">tfsStateNet_dec</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">n</span> : <span class="id" title="var">Network</span>), <span class="id" title="var">decidable</span> (<span class="id" title="var">tfsStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>).<br/>

<br/>
<span class="id" title="keyword">Conjecture</span> <span class="id" title="var">tfsCurrNet_dec</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">n</span> : <span class="id" title="var">Network</span>),<br/>
&nbsp;&nbsp;<span class="id" title="var">decidable</span> (<span class="id" title="var">tfsCurrStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">tfsCurrStateNet_bktrk_net</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">n</span> <span class="id" title="var">n'</span> : <span class="id" title="var">Network</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">a</span> : <span class="id" title="var">ActDiscNet</span>),<br/>
&nbsp;&nbsp;<span class="id" title="var">tfsCurrStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">n</span> -<span class="id" title="var">NA</span>- <span class="id" title="var">a</span> -<span class="id" title="var">NA</span>&gt; <span class="id" title="var">n'</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">tfsCurrStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> \/<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">exists</span> <span class="id" title="var">m</span> <span class="id" title="var">mF</span>, <span class="id" title="tactic">exists</span> <span class="id" title="var">p</span>,<br/>
&nbsp;&nbsp;<span class="id" title="var">tfsNextStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> /\ <span class="id" title="var">failSafe</span> <span class="id" title="var">mF</span> /\<br/>
&nbsp;&nbsp;<span class="id" title="var">mState_in_net</span> (&lt;| <span class="id" title="var">m</span>, <span class="id" title="var">mF</span>, <span class="id" title="var">modeTransTime</span> <span class="id" title="var">m</span> <span class="id" title="var">mF</span> <span class="id" title="var">p</span> |&gt;) <span class="id" title="var">i</span> <span class="id" title="var">n'</span>). 
<br/>
<span class="id" title="keyword">Conjecture</span> <span class="id" title="var">tfsCurrState_del_pres_net</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">n</span> <span class="id" title="var">n'</span> : <span class="id" title="var">Network</span>) (<span class="id" title="var">d</span> : <span class="id" title="var">Delay</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>),<br/>
&nbsp;&nbsp;<span class="id" title="var">n</span> -<span class="id" title="var">ND</span>- <span class="id" title="var">d</span> -<span class="id" title="var">ND</span>&gt; <span class="id" title="var">n'</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id" title="var">tfsCurrStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> &lt;-&gt; <span class="id" title="var">tfsCurrStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n'</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">mState_switch_states</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">n</span> <span class="id" title="var">n'</span> : <span class="id" title="var">Network</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">a</span> : <span class="id" title="var">ActDiscNet</span>) (<span class="id" title="var">k</span> <span class="id" title="var">k'</span> : <span class="id" title="var">ModeState</span>), <span class="id" title="var">reachableNet</span> <span class="id" title="var">n</span> -&gt; <span class="id" title="var">k</span> &lt;&gt; <span class="id" title="var">k'</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">n</span> -<span class="id" title="var">NA</span>- <span class="id" title="var">a</span> -<span class="id" title="var">NA</span>&gt; <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">mState_in_net</span> <span class="id" title="var">k</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt; <span class="id" title="var">mState_in_net</span> <span class="id" title="var">k'</span> <span class="id" title="var">i</span> <span class="id" title="var">n'</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id" title="var">tfsCurrStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> /\ <span class="id" title="var">tfsBcStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n'</span>) \/<br/>
&nbsp;&nbsp;(<span class="id" title="var">switchCurrStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> /\ <span class="id" title="var">switchListenStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n'</span>). 
<br/>
<span class="id" title="keyword">Conjecture</span> <span class="id" title="var">tfsState_del_pres_net</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">n</span> <span class="id" title="var">n'</span> : <span class="id" title="var">Network</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">d</span> : <span class="id" title="var">Delay</span>),<br/>
&nbsp;&nbsp;<span class="id" title="var">n</span> -<span class="id" title="var">ND</span>- <span class="id" title="var">d</span> -<span class="id" title="var">ND</span>&gt; <span class="id" title="var">n'</span> -&gt; (<span class="id" title="var">tfsStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> &lt;-&gt; <span class="id" title="var">tfsStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n'</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">switch_states_mState</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">n</span> <span class="id" title="var">n'</span> : <span class="id" title="var">Network</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">a</span> : <span class="id" title="var">ActDiscNet</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">m</span> : <span class="id" title="var">Mode</span>), <span class="id" title="var">n</span> -<span class="id" title="var">NA</span>- <span class="id" title="var">a</span> -<span class="id" title="var">NA</span>&gt; <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">switchCurrStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">switchListenStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">nextModeNet</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt; <span class="id" title="var">currModeNet</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">n'</span>. 
<br/>
</div>

<div class="doc">
A network transition which sees a software component of some entity
transform to a different software term is necessarily a tau transition.
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">procNeq_tau_net</span> <span class="id" title="var">p</span> <span class="id" title="var">p'</span> <span class="id" title="var">l</span> <span class="id" title="var">l'</span> <span class="id" title="var">h</span> <span class="id" title="var">h'</span> <span class="id" title="var">k</span> <span class="id" title="var">k'</span> <span class="id" title="var">n</span> <span class="id" title="var">n'</span> <span class="id" title="var">a</span> <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;[|<span class="id" title="var">p</span>, <span class="id" title="var">l</span>, <span class="id" title="var">h</span>, <span class="id" title="var">k</span>|] @ <span class="id" title="var">i</span> .: <span class="id" title="var">n</span> -&gt; [|<span class="id" title="var">p'</span>, <span class="id" title="var">l'</span>, <span class="id" title="var">h'</span>, <span class="id" title="var">k'</span>|] @ <span class="id" title="var">i</span> .: <span class="id" title="var">n'</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">n</span> -<span class="id" title="var">NA</span>- <span class="id" title="var">a</span> -<span class="id" title="var">NA</span>&gt; <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">p</span> &lt;&gt; <span class="id" title="var">p'</span> -&gt; <span class="id" title="var">a</span> = <span class="id" title="var">anTau</span>. 
<br/>
</div>

<div class="doc">
The action linking a change from switchCurr to switchListen is always a tau.
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">switchCurr_listen_trans_tau</span> (<span class="id" title="var">n</span> <span class="id" title="var">n'</span> : <span class="id" title="var">Network</span>) (<span class="id" title="var">a</span> : <span class="id" title="var">ActDiscNet</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">n</span> -<span class="id" title="var">NA</span>- <span class="id" title="var">a</span> -<span class="id" title="var">NA</span>&gt; <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">switchCurrStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt; <span class="id" title="var">switchListenStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n'</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">a</span> = <span class="id" title="var">anTau</span>. 
<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">tfsStart_tfs_net</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">tfsStartStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt; <span class="id" title="var">tfsStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>. 
<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">tfsNext_tfs_net</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">tfsNextStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt; <span class="id" title="var">tfsStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>. 
<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">tfsCurr_tfs_net</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">tfsCurrStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt; <span class="id" title="var">tfsStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>. 
<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">tfsBc_tfs_net</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">tfsBcStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt; <span class="id" title="var">tfsStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>. 
<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">tfsListen_tfs_net</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">tfsListenStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt; <span class="id" title="var">tfsStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>. 
<br/>
</div>

<div class="doc">
The following three tactics are mostly simply auxiliaries to the main
result of fwd_track_net_tac.
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">first_eexists_5</span> <span class="id" title="var">t</span> := <span class="id" title="tactic">first</span> [<span class="id" title="var">t</span> | (<span class="id" title="tactic">do</span> 1 <span class="id" title="tactic">eexists</span>);<span class="id" title="var">t</span> | (<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>);<span class="id" title="var">t</span> |<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>);<span class="id" title="var">t</span> | (<span class="id" title="tactic">do</span> 4 <span class="id" title="tactic">eexists</span>);<span class="id" title="var">t</span> | (<span class="id" title="tactic">do</span> 5 <span class="id" title="tactic">eexists</span>);<span class="id" title="var">t</span>].<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">econstr_easssump</span> := <span class="id" title="tactic">econstructor</span>; <span class="id" title="var">eassumption</span>.<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">first_ex_econ_eass</span> := <span class="id" title="var">first_eexists_5</span> <span class="id" title="var">econstr_easssump</span>.<br/>

<br/>
</div>

<div class="doc">
RE is the entity level result upon which this tactic works. Essentially,
this tactic lifts RE from the entity to the network level. Note that the tactic
assumes a disjunctive goal of two branches and may not work otherwise.
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">fwd_track_net_tac</span> <span class="id" title="var">RE</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">U</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">let</span> <span class="id" title="var">U0</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">U</span> <span class="id" title="var">U0</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">U0</span>;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">e'</span> := <span class="id" title="tactic">fresh</span> "e'" <span class="id" title="tactic">in</span> <span class="id" title="keyword">let</span> <span class="id" title="var">b</span> := <span class="id" title="tactic">fresh</span> "b" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">LNE</span> := <span class="id" title="tactic">fresh</span> "LNE" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="var">link_netentdiscfwd_tac</span> <span class="id" title="var">e'</span> <span class="id" title="var">b</span> <span class="id" title="var">LNE</span>;<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;[<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">left</span> | <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> [<span class="id" title="var">LNE1</span> : <span class="id" title="var">_</span> -<span class="id" title="var">EA</span>- <span class="id" title="var">b</span> -&gt;&gt; <span class="id" title="var">e'</span>, <span class="id" title="var">e</span> : <span class="id" title="var">Entity</span>,<br/>
&nbsp;&nbsp;<span class="id" title="var">H0</span> : <span class="id" title="var">_</span> ?<span class="id" title="var">e</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">LOW</span> : <span class="id" title="var">RE</span> <span class="id" title="var">LNE1</span> <span class="id" title="var">H0</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">or_flat</span>; <span class="id" title="var">ex_flat</span>; [<span class="id" title="tactic">left</span> | <span class="id" title="tactic">right</span>] <span class="id" title="keyword">end</span>];<br/>
&nbsp;&nbsp;<span class="id" title="var">first_ex_econ_eass</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">tfsStart_next_net</span> <span class="id" title="var">n</span> <span class="id" title="var">n'</span> <span class="id" title="var">a</span> <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">n</span> -<span class="id" title="var">NA</span>- <span class="id" title="var">a</span> -<span class="id" title="var">NA</span>&gt; <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">tfsStartStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">tfsStartStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n'</span> \/ <span class="id" title="tactic">exists</span> <span class="id" title="var">m</span>, <span class="id" title="var">tfsNextStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">n'</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">tfsNext_next_net</span> <span class="id" title="var">m</span> <span class="id" title="var">n</span> <span class="id" title="var">n'</span> <span class="id" title="var">a</span> <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">n</span> -<span class="id" title="var">NA</span>- <span class="id" title="var">a</span> -<span class="id" title="var">NA</span>&gt; <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">tfsNextStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">tfsNextStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">n'</span> \/ <span class="id" title="var">tfsCurrStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n'</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">tfsCurr_next_net</span> <span class="id" title="var">n</span> <span class="id" title="var">n'</span> <span class="id" title="var">a</span> <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">n</span> -<span class="id" title="var">NA</span>- <span class="id" title="var">a</span> -<span class="id" title="var">NA</span>&gt; <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">tfsCurrStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">tfsCurrStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n'</span> \/ <span class="id" title="var">tfsBcStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n'</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">tfsBc_next_net</span> <span class="id" title="var">n</span> <span class="id" title="var">n'</span> <span class="id" title="var">a</span> <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">n</span> -<span class="id" title="var">NA</span>- <span class="id" title="var">a</span> -<span class="id" title="var">NA</span>&gt; <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">tfsBcStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">tfsBcStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n'</span> \/ <span class="id" title="var">tfsListenStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n'</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">tfsListen_next_net</span> <span class="id" title="var">n</span> <span class="id" title="var">n'</span> <span class="id" title="var">a</span> <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">n</span> -<span class="id" title="var">NA</span>- <span class="id" title="var">a</span> -<span class="id" title="var">NA</span>&gt; <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">tfsListenStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">tfsListenStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n'</span> \/ <span class="id" title="var">dormantStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n'</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">rangeBad_next_net</span> <span class="id" title="var">m</span> <span class="id" title="var">m''</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> <span class="id" title="var">n'</span> <span class="id" title="var">a</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">n</span> -<span class="id" title="var">NA</span>- <span class="id" title="var">a</span> -<span class="id" title="var">NA</span>&gt; <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">rangeBadStateNet</span> <span class="id" title="var">m''</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt; <span class="id" title="var">currModeNet</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">rangeBadStateNet</span> <span class="id" title="var">m''</span> <span class="id" title="var">i</span> <span class="id" title="var">n'</span> \/ <span class="id" title="var">currEqStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">m''</span> <span class="id" title="var">i</span> <span class="id" title="var">n'</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">badOvlp_next_net</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> <span class="id" title="var">n'</span> <span class="id" title="var">a</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">n</span> -<span class="id" title="var">NA</span>- <span class="id" title="var">a</span> -<span class="id" title="var">NA</span>&gt; <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">badOvlpStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">badOvlpStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n'</span> \/ <span class="id" title="var">listeningStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n'</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">netState_auto_pre</span> := <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> [<span class="id" title="var">U</span> : [|<span class="id" title="var">_</span>, <span class="id" title="var">_</span>, <span class="id" title="var">_</span>, <span class="id" title="var">_</span>|] = <span class="id" title="var">_</span>,<br/>
&nbsp;&nbsp;<span class="id" title="var">U1</span> : <span class="id" title="var">_</span> $||$ <span class="id" title="var">_</span> $||$ <span class="id" title="var">_</span> = <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">lenWitness</span>;[ | <span class="id" title="var">eassumption</span>];<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">U</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="var">lifpe</span>; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">U1</span> <span class="id" title="keyword">end</span>; <span class="id" title="tactic">constructor</span>.<br/>

<br/>
</div>

<div class="doc">
Assume a network state predicate as the goal, and enough information in the
hypothesis to prove it: an entInNet, an equality between that entity and its
various components, and an equality between a process triple and the process of
that entity. Then this tactic should solve the goal.
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">netState_auto_tac</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">netState_auto_pre</span>; <span class="id" title="var">eassumption</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">tfsState_elim_net</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">tfsStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt; <span class="id" title="var">tfsStartStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> \/<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">exists</span> <span class="id" title="var">m</span>, <span class="id" title="var">tfsNextStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>) \/<br/>
&nbsp;&nbsp;<span class="id" title="var">tfsCurrStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> \/ <span class="id" title="var">tfsBcStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> \/<br/>
&nbsp;&nbsp;<span class="id" title="var">tfsListenStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>. 
<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">tfsListen_failSafe_net</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">tfsListenStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt; <span class="id" title="var">currModeNet</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt; <span class="id" title="var">failSafe</span> <span class="id" title="var">m</span>.<br/>
 
<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">tfs_currMode_disc_pres</span> (<span class="id" title="var">n</span> <span class="id" title="var">n'</span> : <span class="id" title="var">Network</span>) (<span class="id" title="var">a</span> : <span class="id" title="var">ActDiscNet</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">m</span> : <span class="id" title="var">Mode</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">n</span> -<span class="id" title="var">NA</span>- <span class="id" title="var">a</span> -<span class="id" title="var">NA</span>&gt; <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">currModeNet</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt; ~ <span class="id" title="var">failSafe</span> <span class="id" title="var">m</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">tfsStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt; <span class="id" title="var">tfsStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n'</span>. 
<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">paused_switch_net</span> (<span class="id" title="var">n</span> : <span class="id" title="var">Network</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">reachableNet</span> <span class="id" title="var">n</span> -&gt; (<span class="id" title="var">pausedStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> &lt;-&gt; <span class="id" title="var">switchStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>). 
<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">bcWaitNet_del_bkwd</span> (<span class="id" title="var">n</span> <span class="id" title="var">n'</span> : <span class="id" title="var">Network</span>) (<span class="id" title="var">m</span> : <span class="id" title="var">Mode</span>) (<span class="id" title="var">x</span> : <span class="id" title="keyword">Time</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">d</span> : <span class="id" title="var">Delay</span>) : <span class="id" title="var">n</span> -<span class="id" title="var">ND</span>- <span class="id" title="var">d</span> -<span class="id" title="var">ND</span>&gt; <span class="id" title="var">n'</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">bcWaitStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">i</span> <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">bcWaitStateNet</span> <span class="id" title="var">m</span> (<span class="id" title="var">x</span> +<span class="id" title="var">dt</span>+ <span class="id" title="var">d</span>) <span class="id" title="var">i</span> <span class="id" title="var">n</span>.<br/>

<br/>
</div>

<div class="doc">
An entity in an initial network is itself initial.
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">initialNet_ent</span> <span class="id" title="var">e</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> : <span class="id" title="var">initialNet</span> <span class="id" title="var">n</span> -&gt; <span class="id" title="var">e</span> @ <span class="id" title="var">i</span> .: <span class="id" title="var">n</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">initialEnt</span> <span class="id" title="var">e</span>. <br/>

<br/>
</div>

<div class="doc">
Looks for an initial network in the hypotheses and also an entity in
that network and adds the hypothesis that the entity in question is initial.
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">initNet_ent_tac</span> := <span class="id" title="keyword">let</span> <span class="id" title="var">U0</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> [<span class="id" title="var">U</span> : <span class="id" title="var">initialNet</span> ?<span class="id" title="var">n</span>,<br/>
&nbsp;&nbsp;<span class="id" title="var">U1</span> : ?<span class="id" title="var">e</span> @ ?<span class="id" title="var">i</span> .: ?<span class="id" title="var">n</span> |- <span class="id" title="var">_</span>] =&gt; <span class="id" title="var">lets</span> <span class="id" title="var">U0</span> : <span class="id" title="var">initialNet_ent</span> <span class="id" title="var">U</span> <span class="id" title="var">U1</span> <span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">initNet_contra</span> <span class="id" title="var">U</span> := <br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">U</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">e</span> <span class="id" title="var">U1</span> <span class="id" title="var">U2</span>]; <span class="id" title="tactic">inversion</span> <span class="id" title="var">U1</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">initNet_ent_tac</span>; <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> [<span class="id" title="var">U3</span> : [|<span class="id" title="var">_</span>, <span class="id" title="var">_</span>, <span class="id" title="var">_</span>, <span class="id" title="var">_</span>|] = ?<span class="id" title="var">e</span>,<br/>
&nbsp;&nbsp;<span class="id" title="var">U4</span> : <span class="id" title="var">initialEnt</span> ?<span class="id" title="var">e</span> |- <span class="id" title="var">_</span>] =&gt; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">U3</span> <span class="id" title="tactic">in</span> <span class="id" title="var">U4</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">U4</span> <span class="id" title="keyword">end</span>; <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> [<span class="id" title="var">U5</span> : <span class="id" title="var">initialProc</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">U5</span> <span class="id" title="keyword">end</span>; <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> [<span class="id" title="var">U6</span> : <span class="id" title="var">procProtocol</span> = <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">U6</span>; <span class="id" title="var">subst_all</span> <span class="id" title="var">U6</span> <span class="id" title="keyword">end</span>; <span class="id" title="keyword">match</span> <span class="id" title="var">reverse</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;[<span class="id" title="var">U7</span> : <span class="id" title="keyword">context</span>[<span class="id" title="var">procProtocol</span>] |- <span class="id" title="var">_</span>] =&gt; <span class="id" title="tactic">inversion</span> <span class="id" title="var">U7</span> <span class="id" title="keyword">end</span>; <span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" title="var">U8</span> : <span class="id" title="keyword">context</span>[<span class="id" title="var">dormant</span>] |- <span class="id" title="var">_</span>] =&gt; <span class="id" title="tactic">inversion</span> <span class="id" title="var">U8</span><br/>
&nbsp;&nbsp;| [<span class="id" title="var">U8</span> : <span class="id" title="keyword">context</span>[<span class="id" title="var">sleeping</span>] |- <span class="id" title="var">_</span>] =&gt; <span class="id" title="tactic">inversion</span> <span class="id" title="var">U8</span><br/>
&nbsp;&nbsp;| [<span class="id" title="var">U8</span> : <span class="id" title="keyword">context</span>[<span class="id" title="var">listening</span>] |- <span class="id" title="var">_</span>] =&gt; <span class="id" title="tactic">inversion</span> <span class="id" title="var">U8</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">initial_not_bcWait_net</span> (<span class="id" title="var">n</span> : <span class="id" title="var">Network</span>) (<span class="id" title="var">m</span> : <span class="id" title="var">Mode</span>) (<span class="id" title="var">x</span> : <span class="id" title="keyword">Time</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">initialNet</span> <span class="id" title="var">n</span> -&gt; <span class="id" title="var">bcWaitStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt; <span class="id" title="var">False</span>.<br/>

<br/>
</div>

<div class="doc">
If we're nextSince &amp; we can delay, then we're in the ovWait state.
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">nextSince_del_ovWait</span> (<span class="id" title="var">n</span> <span class="id" title="var">n'</span> : <span class="id" title="var">Network</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">d</span> : <span class="id" title="var">Delay</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">n</span> -<span class="id" title="var">ND</span>- <span class="id" title="var">d</span> -<span class="id" title="var">ND</span>&gt; <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">nextSinceStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <span class="id" title="var">ovWaitStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> (<span class="id" title="var">delToTime</span> (<span class="id" title="var">x</span> +<span class="id" title="var">dt</span>+ <span class="id" title="var">d</span>)) (<span class="id" title="var">delToTime</span> (<span class="id" title="var">y</span> +<span class="id" title="var">dt</span>+ <span class="id" title="var">d</span>)) <span class="id" title="var">i</span> <span class="id" title="var">n</span>. 
<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">switchCurr_switchListen_net_link</span> (<span class="id" title="var">n</span> <span class="id" title="var">n'</span> : <span class="id" title="var">Network</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">a</span> : <span class="id" title="var">ActDiscNet</span>) (<span class="id" title="var">e</span> <span class="id" title="var">e'</span> : <span class="id" title="var">Entity</span>) : <br/>
&nbsp;&nbsp;<span class="id" title="var">switchCurrStateEnt</span> <span class="id" title="var">e</span> -&gt; <span class="id" title="var">switchListenStateEnt</span> <span class="id" title="var">e'</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">e</span> @ <span class="id" title="var">i</span> .: <span class="id" title="var">n</span> -&gt; <span class="id" title="var">e'</span> @ <span class="id" title="var">i</span> .: <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">n</span> -<span class="id" title="var">NA</span>- <span class="id" title="var">a</span> -<span class="id" title="var">NA</span>&gt; <span class="id" title="var">n'</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">a</span> = <span class="id" title="var">anTau</span> /\ <span class="id" title="var">interEnt</span> <span class="id" title="var">e</span> = <span class="id" title="var">interEnt</span> <span class="id" title="var">e'</span>. 
<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">init_nextMode_net</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">reachableNet</span> <span class="id" title="var">n</span> -&gt; <span class="id" title="var">initStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt; <span class="id" title="var">nextModeNet</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ovReady_prev_net_strong</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span> <span class="id" title="var">n</span> <span class="id" title="var">n'</span> <span class="id" title="var">i</span> <span class="id" title="var">a</span> : <br/>
&nbsp;&nbsp;<span class="id" title="var">ovReadyStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span> <span class="id" title="var">i</span> <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">n</span> -<span class="id" title="var">NA</span>- <span class="id" title="var">a</span> -<span class="id" title="var">NA</span>&gt; <span class="id" title="var">n'</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">ovReadyStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> \/<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">exists</span> <span class="id" title="var">x0</span> <span class="id" title="var">y0</span>, <span class="id" title="var">ovWaitStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">x0</span> <span class="id" title="var">y0</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ovWait_prev_net_strong</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">n</span> <span class="id" title="var">n'</span> <span class="id" title="var">i</span> <span class="id" title="var">a</span> : <br/>
&nbsp;&nbsp;<span class="id" title="var">ovWaitStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">i</span> <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">n</span> -<span class="id" title="var">NA</span>- <span class="id" title="var">a</span> -<span class="id" title="var">NA</span>&gt; <span class="id" title="var">n'</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">ovWaitStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> \/<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">exists</span> <span class="id" title="var">t0</span> <span class="id" title="var">l0</span>, <span class="id" title="var">ovReadyStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">t0</span> <span class="id" title="var">l0</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>) \/<br/>
&nbsp;&nbsp;<span class="id" title="var">initStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>. 
<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">nextMode_pres_fwd_net</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> <span class="id" title="var">n'</span> <span class="id" title="var">a</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">reachableNet</span> <span class="id" title="var">n</span> -&gt; <span class="id" title="var">nextModeNet</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt; <br/>
&nbsp;&nbsp;~(<span class="id" title="var">switchCurrStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> \/ <span class="id" title="var">ovAbortStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> \/<br/>
&nbsp;&nbsp;<span class="id" title="var">tfsCurrStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">n</span> -<span class="id" title="var">NA</span>- <span class="id" title="var">a</span> -<span class="id" title="var">NA</span>&gt; <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">nextModeNet</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">n'</span>. 
<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ovWait_del_pres_bkwd_net_strong</span> <span class="id" title="var">n</span> <span class="id" title="var">n'</span> <span class="id" title="var">d</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">n</span> -<span class="id" title="var">ND</span>- <span class="id" title="var">d</span> -<span class="id" title="var">ND</span>&gt; <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">ovWaitStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">i</span> <span class="id" title="var">n'</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">ovWaitStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> (<span class="id" title="var">x</span> +<span class="id" title="var">dt</span>+ <span class="id" title="var">d</span>) (<span class="id" title="var">y</span> +<span class="id" title="var">dt</span>+ <span class="id" title="var">d</span>) <span class="id" title="var">i</span> <span class="id" title="var">n</span>. 
<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ovReady_del_pres_bkwd_net</span> <span class="id" title="var">n</span> <span class="id" title="var">n'</span> <span class="id" title="var">d</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span> <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">n</span> -<span class="id" title="var">ND</span>- <span class="id" title="var">d</span> -<span class="id" title="var">ND</span>&gt; <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">ovReadyStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span> <span class="id" title="var">i</span> <span class="id" title="var">n'</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">ovReadyStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>. 
<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">nextModeNet_del_pres</span> <span class="id" title="var">n</span> <span class="id" title="var">n'</span> <span class="id" title="var">d</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">n</span> -<span class="id" title="var">ND</span>- <span class="id" title="var">d</span> -<span class="id" title="var">ND</span>&gt; <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">nextModeNet</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt; <span class="id" title="var">nextModeNet</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">n'</span>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ovWait_ovReady_nextMode_net</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">l</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">reachableNet</span> <span class="id" title="var">n</span> -&gt; <span class="id" title="var">ovWaitStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> \/ <span class="id" title="var">ovReadyStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">nextModeNet</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ovWaitState_nextMode_net</span> (<span class="id" title="var">n</span> : <span class="id" title="var">Network</span>) (<span class="id" title="var">m</span> : <span class="id" title="var">Mode</span>) (<span class="id" title="var">t</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="keyword">Time</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>):<br/>
&nbsp;&nbsp;<span class="id" title="var">reachableNet</span> <span class="id" title="var">n</span> -&gt; <span class="id" title="var">ovWaitStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt; <span class="id" title="var">nextModeNet</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">del_listening_net</span> (<span class="id" title="var">n</span> <span class="id" title="var">n'</span> : <span class="id" title="var">Network</span>) (<span class="id" title="var">d</span> : <span class="id" title="var">Delay</span>) (<span class="id" title="var">e</span> : <span class="id" title="var">Entity</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">reachableNet</span> <span class="id" title="var">n</span> -&gt; <span class="id" title="var">n</span> -<span class="id" title="var">ND</span>- <span class="id" title="var">d</span> -<span class="id" title="var">ND</span>&gt; <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">e</span> @ <span class="id" title="var">i</span> .: <span class="id" title="var">n</span> -&gt; <span class="id" title="var">listeningStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">inPos_pres_disc</span> (<span class="id" title="var">n</span> <span class="id" title="var">n'</span> : <span class="id" title="var">Network</span>) (<span class="id" title="var">a</span> : <span class="id" title="var">ActDiscNet</span>) (<span class="id" title="var">l</span> : <span class="id" title="var">Position</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">n</span> -<span class="id" title="var">NA</span>- <span class="id" title="var">a</span> -<span class="id" title="var">NA</span>&gt; <span class="id" title="var">n'</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id" title="var">inPosNet</span> <span class="id" title="var">l</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> &lt;-&gt; <span class="id" title="var">inPosNet</span> <span class="id" title="var">l</span> <span class="id" title="var">i</span> <span class="id" title="var">n'</span>).<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">currMode_pres_bkwd</span> (<span class="id" title="var">n</span> <span class="id" title="var">n'</span> : <span class="id" title="var">Network</span>) (<span class="id" title="var">a</span> : <span class="id" title="var">ActDiscNet</span>) (<span class="id" title="var">m'</span> : <span class="id" title="var">Mode</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">n</span> -<span class="id" title="var">NA</span>- <span class="id" title="var">a</span> -<span class="id" title="var">NA</span>&gt; <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">currModeNet</span> <span class="id" title="var">m'</span> <span class="id" title="var">i</span> <span class="id" title="var">n'</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">m</span>, <span class="id" title="var">currModeNet</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>. 
<br/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">currMode_pres_fwd</span> (<span class="id" title="var">n</span> <span class="id" title="var">n'</span> : <span class="id" title="var">Network</span>) (<span class="id" title="var">a</span> : <span class="id" title="var">ActDiscNet</span>) (<span class="id" title="var">m</span> : <span class="id" title="var">Mode</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">n</span> -<span class="id" title="var">NA</span>- <span class="id" title="var">a</span> -<span class="id" title="var">NA</span>&gt; <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">currModeNet</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">m'</span>, <span class="id" title="var">currModeNet</span> <span class="id" title="var">m'</span> <span class="id" title="var">i</span> <span class="id" title="var">n'</span>. 
<br/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">outgoing_del</span> (<span class="id" title="var">n</span> <span class="id" title="var">n'</span> : <span class="id" title="var">Network</span>) (<span class="id" title="var">d</span> : <span class="id" title="var">Delay</span>) (<span class="id" title="var">v</span> : <span class="id" title="var">list</span> <span class="id" title="var">BaseType</span>) (<span class="id" title="var">t</span> : <span class="id" title="keyword">Time</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) : <br/>
&nbsp;&nbsp;<span class="id" title="var">n</span> -<span class="id" title="var">ND</span>- <span class="id" title="var">d</span> -<span class="id" title="var">ND</span>&gt; <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">outgoing</span> <span class="id" title="var">v</span> <span class="id" title="var">t</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt;<br/>
&nbsp;&nbsp;{<span class="id" title="var">p</span> : <span class="id" title="var">d</span> &lt;= <span class="id" title="var">t</span> | <span class="id" title="var">outgoing</span> <span class="id" title="var">v</span> (<span class="id" title="var">minusTime</span> <span class="id" title="var">t</span> <span class="id" title="var">d</span> <span class="id" title="var">p</span>) <span class="id" title="var">i</span> <span class="id" title="var">n'</span>}. 
<br/>
<span class="id" title="keyword">Corollary</span> <span class="id" title="var">outgoing_del_contra</span> (<span class="id" title="var">n</span> <span class="id" title="var">n'</span> : <span class="id" title="var">Network</span>) (<span class="id" title="var">d</span> : <span class="id" title="var">Delay</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">v</span> : <span class="id" title="var">list</span> <span class="id" title="var">BaseType</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) : <span class="id" title="var">n</span> -<span class="id" title="var">ND</span>- <span class="id" title="var">d</span> -<span class="id" title="var">ND</span>&gt; <span class="id" title="var">n'</span> -&gt;  <span class="id" title="var">outgoing</span> <span class="id" title="var">v</span> <span class="id" title="var">zeroTime</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt; <span class="id" title="var">False</span>. <br/>

<br/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">outgoing_disc_pres</span> (<span class="id" title="var">n</span> <span class="id" title="var">n'</span> : <span class="id" title="var">Network</span>) (<span class="id" title="var">a</span> : <span class="id" title="var">ActDiscNet</span>) (<span class="id" title="var">v</span> : <span class="id" title="var">list</span> <span class="id" title="var">BaseType</span>) (<span class="id" title="var">t</span> : <span class="id" title="keyword">Time</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">n</span> -<span class="id" title="var">NA</span>- <span class="id" title="var">a</span> -<span class="id" title="var">NA</span>&gt; <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">outgoing</span> <span class="id" title="var">v</span> <span class="id" title="var">t</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt; 0 &lt; <span class="id" title="var">t</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">outgoing</span> <span class="id" title="var">v</span> <span class="id" title="var">t</span> <span class="id" title="var">i</span> <span class="id" title="var">n'</span>. <br/>

<br/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">incomingNetNotif_del</span> (<span class="id" title="var">n</span> <span class="id" title="var">n'</span> : <span class="id" title="var">Network</span>) (<span class="id" title="var">d</span> : <span class="id" title="var">Delay</span>) (<span class="id" title="var">v</span> : <span class="id" title="var">list</span> <span class="id" title="var">BaseType</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">t</span> : <span class="id" title="keyword">Time</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) : <br/>
&nbsp;&nbsp;<span class="id" title="var">reachableNet</span> <span class="id" title="var">n</span> -&gt; <span class="id" title="var">n</span> -<span class="id" title="var">ND</span>- <span class="id" title="var">d</span> -<span class="id" title="var">ND</span>&gt; <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">incomingNetNotif</span> <span class="id" title="var">v</span> <span class="id" title="var">t</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt;<br/>
&nbsp;&nbsp;{<span class="id" title="var">p</span> : <span class="id" title="var">d</span> &lt;= <span class="id" title="var">t</span> | <span class="id" title="var">incomingNetNotif</span> <span class="id" title="var">v</span> (<span class="id" title="var">minusTime</span> <span class="id" title="var">t</span> <span class="id" title="var">d</span> <span class="id" title="var">p</span>) <span class="id" title="var">i</span> <span class="id" title="var">n'</span>}.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">incomingNetNotif_disc_pres</span> (<span class="id" title="var">n</span> <span class="id" title="var">n'</span> : <span class="id" title="var">Network</span>) (<span class="id" title="var">a</span> : <span class="id" title="var">ActDiscNet</span>) (<span class="id" title="var">v</span> : <span class="id" title="var">list</span> <span class="id" title="var">BaseType</span>) (<span class="id" title="var">t</span> : <span class="id" title="keyword">Time</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">n</span> -<span class="id" title="var">NA</span>- <span class="id" title="var">a</span> -<span class="id" title="var">NA</span>&gt; <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">incomingNetNotif</span> <span class="id" title="var">v</span> <span class="id" title="var">t</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt; 0 &lt; <span class="id" title="var">t</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">incomingNetNotif</span> <span class="id" title="var">v</span> <span class="id" title="var">t</span> <span class="id" title="var">i</span> <span class="id" title="var">n'</span>. 
<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">inPos_del_bound_bkwd</span> (<span class="id" title="var">n</span> <span class="id" title="var">n'</span> : <span class="id" title="var">Network</span>) (<span class="id" title="var">d</span> : <span class="id" title="var">Delay</span>) (<span class="id" title="var">l'</span> : <span class="id" title="var">Position</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">inPosNet</span> <span class="id" title="var">l'</span> <span class="id" title="var">i</span> <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">n</span> -<span class="id" title="var">ND</span>- <span class="id" title="var">d</span> -<span class="id" title="var">ND</span>&gt; <span class="id" title="var">n'</span> -&gt; <span class="id" title="tactic">exists</span> <span class="id" title="var">l</span>,<br/>
&nbsp;&nbsp;<span class="id" title="var">inPosNet</span> <span class="id" title="var">l</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> /\ <span class="id" title="var">dist2d</span> <span class="id" title="var">l</span> <span class="id" title="var">l'</span> &lt;= <span class="id" title="var">speedMax</span> * <span class="id" title="var">d</span>. 
<br/>
<span class="id" title="keyword">Conjecture</span> <span class="id" title="var">currMode_intro</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">m</span> : <span class="id" title="var">Mode</span>) (<span class="id" title="var">e</span> : <span class="id" title="var">Entity</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">n</span> : <span class="id" title="var">Network</span>),<br/>
&nbsp;&nbsp;<span class="id" title="var">m</span> = <span class="id" title="var">currModeEnt</span> <span class="id" title="var">e</span> -&gt; <span class="id" title="var">e</span> @ <span class="id" title="var">i</span> .: <span class="id" title="var">n</span> -&gt; <span class="id" title="var">currModeNet</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>.<br/>

<br/>
<span class="id" title="keyword">Conjecture</span> <span class="id" title="var">inPos_ex</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">n</span> : <span class="id" title="var">Network</span>) (<span class="id" title="var">e</span> : <span class="id" title="var">Entity</span>),<br/>
&nbsp;&nbsp;<span class="id" title="var">e</span> @ <span class="id" title="var">i</span> .: <span class="id" title="var">n</span> -&gt; <span class="id" title="tactic">exists</span> <span class="id" title="var">l</span>, <span class="id" title="var">inPosNet</span> <span class="id" title="var">l</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>.<br/>

<br/>
<span class="id" title="keyword">Conjecture</span> <span class="id" title="var">distNet_intro</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">e1</span> <span class="id" title="var">e2</span> : <span class="id" title="var">Entity</span>) (<span class="id" title="var">i</span> <span class="id" title="var">j</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">n</span> : <span class="id" title="var">Network</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">Distance</span>),<br/>
&nbsp;&nbsp;<span class="id" title="var">e1</span> @ <span class="id" title="var">i</span> .: <span class="id" title="var">n</span> -&gt; <span class="id" title="var">e2</span> @ <span class="id" title="var">j</span> .: <span class="id" title="var">n</span> -&gt; <span class="id" title="var">x</span> = <span class="id" title="var">mkDistance</span> (<span class="id" title="var">dist2d</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span>) -&gt; <span class="id" title="var">distNet</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">n</span> <span class="id" title="var">x</span>.<br/>

<br/>
<span class="id" title="keyword">Conjecture</span> <span class="id" title="var">inPos_pos</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">e</span> : <span class="id" title="var">Entity</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">l</span> : <span class="id" title="var">Position</span>) (<span class="id" title="var">n</span> : <span class="id" title="var">Network</span>),<br/>
&nbsp;&nbsp;<span class="id" title="var">e</span> @ <span class="id" title="var">i</span> .: <span class="id" title="var">n</span> -&gt; <span class="id" title="var">inPosNet</span> <span class="id" title="var">l</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt; <span class="id" title="var">posEnt</span> <span class="id" title="var">e</span> = <span class="id" title="var">l</span>.<br/>

<br/>
<span class="id" title="keyword">Conjecture</span> <span class="id" title="var">reachable_net_ent</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">n</span> : <span class="id" title="var">Network</span>) (<span class="id" title="var">e</span> : <span class="id" title="var">Entity</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>),<br/>
&nbsp;&nbsp;<span class="id" title="var">reachableNet</span> <span class="id" title="var">n</span> -&gt; <span class="id" title="var">e</span> @ <span class="id" title="var">i</span> .: <span class="id" title="var">n</span> -&gt; <span class="id" title="var">reachableEnt</span> <span class="id" title="var">e</span>.<br/>

<br/>
<span class="id" title="keyword">Conjecture</span> <span class="id" title="var">disc_pres_distNet_bkwd</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">n</span> <span class="id" title="var">n'</span> : <span class="id" title="var">Network</span>) (<span class="id" title="var">a</span> : <span class="id" title="var">ActDiscNet</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">i</span> <span class="id" title="var">j</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">Distance</span>),<br/>
&nbsp;&nbsp;<span class="id" title="var">n</span> -<span class="id" title="var">NA</span>- <span class="id" title="var">a</span> -<span class="id" title="var">NA</span>&gt; <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">distNet</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">n'</span> <span class="id" title="var">x</span> -&gt; <span class="id" title="var">distNet</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">n</span> <span class="id" title="var">x</span>.<br/>

<br/>
<span class="id" title="keyword">Conjecture</span> <span class="id" title="var">del_link_distNet_bkwd</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">n</span> <span class="id" title="var">n'</span> : <span class="id" title="var">Network</span>) (<span class="id" title="var">d</span> : <span class="id" title="var">Delay</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">i</span> <span class="id" title="var">j</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">x'</span> : <span class="id" title="var">Distance</span>),<br/>
&nbsp;&nbsp;<span class="id" title="var">n</span> -<span class="id" title="var">ND</span>- <span class="id" title="var">d</span> -<span class="id" title="var">ND</span>&gt; <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">distNet</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">n'</span> <span class="id" title="var">x'</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>, <span class="id" title="var">distNet</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">n</span> <span class="id" title="var">x</span> /\ <span class="id" title="var">x</span> &lt;= <span class="id" title="var">x'</span> + 2*<span class="id" title="var">speedMax</span>*<span class="id" title="var">d</span>.<br/>

<br/>
<span class="id" title="keyword">Conjecture</span> <span class="id" title="var">distNet_elim</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">i</span> <span class="id" title="var">j</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">n</span> : <span class="id" title="var">Network</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">Distance</span>),<br/>
&nbsp;&nbsp;<span class="id" title="var">distNet</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">n</span> <span class="id" title="var">x</span> -&gt; <span class="id" title="tactic">exists</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span>,<br/>
&nbsp;&nbsp;<span class="id" title="var">e1</span> @ <span class="id" title="var">i</span> .: <span class="id" title="var">n</span> /\ <span class="id" title="var">e2</span> @ <span class="id" title="var">j</span> .: <span class="id" title="var">n</span> /\ <span class="id" title="var">x</span> = {| <span class="id" title="var">distance</span> := <span class="id" title="var">dist2d</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> |}.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">del_net_ent</span> (<span class="id" title="var">e</span> : <span class="id" title="var">Entity</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">n</span> <span class="id" title="var">n'</span> : <span class="id" title="var">Network</span>) (<span class="id" title="var">d</span> : <span class="id" title="var">Delay</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">e</span> @ <span class="id" title="var">i</span> .: <span class="id" title="var">n</span> -&gt; <span class="id" title="var">n</span> -<span class="id" title="var">ND</span>- <span class="id" title="var">d</span> -<span class="id" title="var">ND</span>&gt; <span class="id" title="var">n'</span> -&gt; <span class="id" title="tactic">exists</span> <span class="id" title="var">e'</span>, <span class="id" title="var">e</span> -<span class="id" title="var">ED</span>- <span class="id" title="var">d</span> -&gt;&gt; <span class="id" title="var">e'</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">inRange_acc_input</span> (<span class="id" title="var">n</span> <span class="id" title="var">n'</span> : <span class="id" title="var">Network</span>) (<span class="id" title="var">v</span> : <span class="id" title="var">list</span> <span class="id" title="var">BaseType</span>) (<span class="id" title="var">l</span> : <span class="id" title="var">Position</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">r</span> : <span class="id" title="var">Distance</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">e</span> : <span class="id" title="var">Entity</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">n</span> -<span class="id" title="var">NA</span>- ([-<span class="id" title="var">v</span>, <span class="id" title="var">l</span>, <span class="id" title="var">r</span>-]) /?: -<span class="id" title="var">NA</span>&gt; <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">e</span> @ <span class="id" title="var">i</span> .: <span class="id" title="var">n</span> -&gt; <span class="id" title="var">dist2d</span> <span class="id" title="var">l</span> (<span class="id" title="var">posEnt</span> <span class="id" title="var">e</span>) &lt;= <span class="id" title="var">r</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">e'</span>, <span class="id" title="var">e</span> -<span class="id" title="var">EA</span>- ([-<span class="id" title="var">v</span>, <span class="id" title="var">l</span>, <span class="id" title="var">r</span>-]) #? -&gt;&gt; <span class="id" title="var">e'</span> /\ <span class="id" title="var">e'</span> @ <span class="id" title="var">i</span> .: <span class="id" title="var">n'</span>. 
<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">inRange_out_input</span> (<span class="id" title="var">n</span> <span class="id" title="var">n'</span> : <span class="id" title="var">Network</span>) (<span class="id" title="var">v</span> : <span class="id" title="var">list</span> <span class="id" title="var">BaseType</span>) (<span class="id" title="var">l</span> : <span class="id" title="var">Position</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">r</span> <span class="id" title="var">x</span>: <span class="id" title="var">Distance</span>) (<span class="id" title="var">i</span> <span class="id" title="var">j</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">e</span> : <span class="id" title="var">Entity</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">n</span> -<span class="id" title="var">NA</span>- ([-<span class="id" title="var">v</span>, <span class="id" title="var">l</span>, <span class="id" title="var">r</span>-]) /! <span class="id" title="var">i</span> -<span class="id" title="var">NA</span>&gt; <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">e</span> @ <span class="id" title="var">j</span> .: <span class="id" title="var">n</span> -&gt; <span class="id" title="var">i</span> &lt;&gt; <span class="id" title="var">j</span> -&gt; <span class="id" title="var">distNet</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">n'</span> <span class="id" title="var">x</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">x</span> &lt;= <span class="id" title="var">r</span> -&gt; <span class="id" title="tactic">exists</span> <span class="id" title="var">e'</span>, <span class="id" title="var">e</span> -<span class="id" title="var">EA</span>- ([-<span class="id" title="var">v</span>, <span class="id" title="var">l</span>, <span class="id" title="var">r</span>-]) #? -&gt;&gt; <span class="id" title="var">e'</span> /\ <span class="id" title="var">e'</span> @ <span class="id" title="var">j</span> .: <span class="id" title="var">n'</span>.<br/>
 
<br/>
<span class="id" title="keyword">Conjecture</span> <span class="id" title="var">transGuard_disc_pres</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">n</span> <span class="id" title="var">n'</span> : <span class="id" title="var">Network</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">a</span> : <span class="id" title="var">ActDiscNet</span>) (<span class="id" title="var">t</span> : <span class="id" title="keyword">Time</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>),<br/>
&nbsp;&nbsp;<span class="id" title="var">n</span> -<span class="id" title="var">NA</span>- <span class="id" title="var">a</span> -<span class="id" title="var">NA</span>&gt; <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">transGuard</span> <span class="id" title="var">t</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt; <span class="id" title="var">transGuard</span> <span class="id" title="var">t</span> <span class="id" title="var">i</span> <span class="id" title="var">n'</span>.<br/>

<br/>
<span class="id" title="keyword">Conjecture</span> <span class="id" title="var">transGuard_elim</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">t</span> : <span class="id" title="keyword">Time</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">n</span> : <span class="id" title="var">Network</span>),<br/>
&nbsp;&nbsp;<span class="id" title="var">transGuard</span> <span class="id" title="var">t</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt; <span class="id" title="tactic">exists</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span>,<br/>
&nbsp;&nbsp;<span class="id" title="var">mState_in_net</span> (&lt;| <span class="id" title="var">m</span>, <span class="id" title="var">m'</span>, <span class="id" title="var">t</span> |&gt;) <span class="id" title="var">i</span> <span class="id" title="var">n</span>.<br/>

<br/>
<span class="id" title="keyword">Conjecture</span> <span class="id" title="var">transGuard_intro</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">t</span> : <span class="id" title="keyword">Time</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">n</span> : <span class="id" title="var">Network</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">m</span> <span class="id" title="var">m'</span> : <span class="id" title="var">Mode</span>), <span class="id" title="var">mState_in_net</span> (&lt;| <span class="id" title="var">m</span>, <span class="id" title="var">m'</span>, <span class="id" title="var">t</span> |&gt;) <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">transGuard</span> <span class="id" title="var">t</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>.<br/>

<br/>
<span class="id" title="keyword">Conjecture</span> <span class="id" title="var">mState_disc_pres</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">n</span> <span class="id" title="var">n'</span> : <span class="id" title="var">Network</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">a</span> : <span class="id" title="var">ActDiscNet</span>) (<span class="id" title="var">k</span>  : <span class="id" title="var">ModeState</span>), <span class="id" title="var">n</span> -<span class="id" title="var">NA</span>- <span class="id" title="var">a</span> -<span class="id" title="var">NA</span>&gt; <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">mState_in_net</span> <span class="id" title="var">k</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">k'</span>, <span class="id" title="var">mState_in_net</span> <span class="id" title="var">k'</span> <span class="id" title="var">i</span> <span class="id" title="var">n'</span>.<br/>

<br/>
<span class="id" title="keyword">Conjecture</span> <span class="id" title="var">transGuard_del</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">n</span> <span class="id" title="var">n'</span> : <span class="id" title="var">Network</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">d</span> : <span class="id" title="var">Delay</span>) (<span class="id" title="var">t</span> : <span class="id" title="keyword">Time</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>),<br/>
&nbsp;&nbsp;<span class="id" title="var">n</span> -<span class="id" title="var">ND</span>- <span class="id" title="var">d</span> -<span class="id" title="var">ND</span>&gt; <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">transGuard</span> <span class="id" title="var">t</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt; <br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">p</span>, <span class="id" title="var">transGuard</span> (<span class="id" title="var">minusTime</span> <span class="id" title="var">t</span> <span class="id" title="var">d</span> <span class="id" title="var">p</span>) <span class="id" title="var">i</span> <span class="id" title="var">n'</span>.<br/>

<br/>
<span class="id" title="keyword">Conjecture</span> <span class="id" title="var">currModeNet_del_pres</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">n</span> <span class="id" title="var">n'</span> : <span class="id" title="var">Network</span>) (<span class="id" title="var">d</span> : <span class="id" title="var">Delay</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">m</span> : <span class="id" title="var">Mode</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>), <span class="id" title="var">n</span> -<span class="id" title="var">ND</span>- <span class="id" title="var">d</span> -<span class="id" title="var">ND</span>&gt; <span class="id" title="var">n'</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id" title="var">currModeNet</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> &lt;-&gt; <span class="id" title="var">currModeNet</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">n'</span>).<br/>

<br/>
<span class="id" title="keyword">Conjecture</span> <span class="id" title="var">currModeNet_dec</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">m</span> : <span class="id" title="var">Mode</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">n</span> : <span class="id" title="var">Network</span>),<br/>
&nbsp;&nbsp;<span class="id" title="var">currModeNet</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> \/ ~<span class="id" title="var">currModeNet</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">initial_failSafe</span> (<span class="id" title="var">n</span> : <span class="id" title="var">Network</span>) (<span class="id" title="var">e</span> : <span class="id" title="var">Entity</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">initialNet</span> <span class="id" title="var">n</span> -&gt; <span class="id" title="var">e</span> @ <span class="id" title="var">i</span> .: <span class="id" title="var">n</span> -&gt; <span class="id" title="var">failSafe</span> <span class="id" title="var">e</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">curr_switch_ent_tau</span> (<span class="id" title="var">n</span> <span class="id" title="var">n'</span> : <span class="id" title="var">Network</span>) (<span class="id" title="var">a</span> : <span class="id" title="var">ActDiscNet</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">e</span> <span class="id" title="var">e'</span> : <span class="id" title="var">Entity</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">m</span> <span class="id" title="var">m'</span> : <span class="id" title="var">Mode</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">n</span> -<span class="id" title="var">NA</span>- <span class="id" title="var">a</span> -<span class="id" title="var">NA</span>&gt; <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">e</span> @ <span class="id" title="var">i</span> .: <span class="id" title="var">n</span> -&gt; <span class="id" title="var">e'</span> @ <span class="id" title="var">i</span> .: <span class="id" title="var">n'</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">currModeEnt</span> <span class="id" title="var">e</span> = <span class="id" title="var">m</span> -&gt; <span class="id" title="var">currModeEnt</span> <span class="id" title="var">e'</span> = <span class="id" title="var">m'</span> -&gt; <span class="id" title="var">m</span> &lt;&gt; <span class="id" title="var">m'</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">e</span> -<span class="id" title="var">EA</span>- <span class="id" title="var">aeTau</span> -&gt;&gt; <span class="id" title="var">e'</span>. 
<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">reachable_net_prot</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">n</span> : <span class="id" title="var">Network</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">p</span> : <span class="id" title="var">ProcTerm</span>) (<span class="id" title="var">l</span> : <span class="id" title="var">Position</span>) (<span class="id" title="var">h</span> : <span class="id" title="var">Interface</span>) (<span class="id" title="var">k</span> : <span class="id" title="var">ModeState</span>),<br/>
&nbsp;&nbsp;<span class="id" title="var">reachableNet</span> <span class="id" title="var">n</span> -&gt; [|<span class="id" title="var">p</span>, <span class="id" title="var">l</span>, <span class="id" title="var">h</span>, <span class="id" title="var">k</span>|] @ <span class="id" title="var">i</span> .: <span class="id" title="var">n</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">reachableProt</span> <span class="id" title="var">p</span>. 
<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">currMode_del_pres_bkwd</span> (<span class="id" title="var">n</span> <span class="id" title="var">n'</span> : <span class="id" title="var">Network</span>) (<span class="id" title="var">d</span> : <span class="id" title="var">Delay</span>) (<span class="id" title="var">m</span> : <span class="id" title="var">Mode</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">n</span> -<span class="id" title="var">ND</span>- <span class="id" title="var">d</span> -<span class="id" title="var">ND</span>&gt; <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">currModeNet</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">currModeNet</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>. 
<br/>
<span class="id" title="keyword">Conjecture</span> <span class="id" title="var">inPos_ent_net</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">l</span> : <span class="id" title="var">Position</span>) (<span class="id" title="var">e</span> : <span class="id" title="var">Entity</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">n</span> : <span class="id" title="var">Network</span>),<br/>
&nbsp;&nbsp;<span class="id" title="var">inPosEnt</span> <span class="id" title="var">l</span> <span class="id" title="var">e</span> -&gt; <span class="id" title="var">e</span> @ <span class="id" title="var">i</span> .: <span class="id" title="var">n</span> -&gt; <span class="id" title="var">inPosNet</span> <span class="id" title="var">l</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>.<br/>

<br/>
<span class="id" title="keyword">Conjecture</span> <span class="id" title="var">inPos_unique</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">l</span> <span class="id" title="var">l'</span> : <span class="id" title="var">Position</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">n</span> : <span class="id" title="var">Network</span>),<br/>
&nbsp;&nbsp;<span class="id" title="var">inPosNet</span> <span class="id" title="var">l</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt; <span class="id" title="var">inPosNet</span> <span class="id" title="var">l'</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt; <span class="id" title="var">l</span> = <span class="id" title="var">l'</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">outNet_incomingNetNotif</span> (<span class="id" title="var">n</span> <span class="id" title="var">n'</span> : <span class="id" title="var">Network</span>) (<span class="id" title="var">v</span> : <span class="id" title="var">list</span> <span class="id" title="var">BaseType</span>) (<span class="id" title="var">r</span> : <span class="id" title="var">Distance</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">l</span> : <span class="id" title="var">Position</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) : <span class="id" title="var">n</span> -<span class="id" title="var">NA</span>- ([-<span class="id" title="var">v</span>, <span class="id" title="var">l</span>, <span class="id" title="var">r</span>-]) /! <span class="id" title="var">i</span> -<span class="id" title="var">NA</span>&gt; <span class="id" title="var">n'</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">incomingNetNotif</span> ((<span class="id" title="var">baseDistance</span> <span class="id" title="var">r</span>)::<span class="id" title="var">v</span>) <span class="id" title="var">adaptNotif</span> <span class="id" title="var">i</span> <span class="id" title="var">n'</span>. 
<br/>
</div>

<div class="doc">
Linking theorem.
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">incoming_net_ent</span> (<span class="id" title="var">v</span> : <span class="id" title="var">list</span> <span class="id" title="var">BaseType</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">n</span> : <span class="id" title="var">Network</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">incomingNet</span> <span class="id" title="var">v</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt; <span class="id" title="tactic">exists</span> <span class="id" title="var">e</span>, <span class="id" title="var">incomingEnt</span> <span class="id" title="var">v</span> <span class="id" title="var">e</span> /\ <span class="id" title="var">e</span> @ <span class="id" title="var">i</span> .: <span class="id" title="var">n</span>. <br/>

<br/>
</div>

<div class="doc">
Linking theorem.
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">incoming_ent_net</span> (<span class="id" title="var">v</span> : <span class="id" title="var">list</span> <span class="id" title="var">BaseType</span>) (<span class="id" title="var">e</span> : <span class="id" title="var">Entity</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">n</span> : <span class="id" title="var">Network</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">incomingEnt</span> <span class="id" title="var">v</span> <span class="id" title="var">e</span> -&gt; <span class="id" title="var">e</span> @ <span class="id" title="var">i</span> .: <span class="id" title="var">n</span> -&gt; <span class="id" title="var">incomingNet</span> <span class="id" title="var">v</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">inposdp</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;[ <span class="id" title="var">w</span> : ?<span class="id" title="var">n</span> -<span class="id" title="var">NA</span>- <span class="id" title="var">_</span> -<span class="id" title="var">NA</span>&gt; ?<span class="id" title="var">n'</span>, <span class="id" title="var">H</span> : <span class="id" title="var">inPosNet</span> ?<span class="id" title="var">l</span> ?<span class="id" title="var">i</span> ?<span class="id" title="var">n'</span> |- <span class="id" title="var">inPosNet</span> ?<span class="id" title="var">l</span> ?<span class="id" title="var">i</span> ?<span class="id" title="var">n</span>] =&gt;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">inPos_pres_disc</span>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">w</span> | <span class="id" title="tactic">assumption</span>]<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">net_del_elim</span> <span class="id" title="var">q</span> <span class="id" title="var">q0</span> <span class="id" title="var">q1</span> <span class="id" title="var">l</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> <span class="id" title="var">n'</span> <span class="id" title="var">d</span> :<br/>
&nbsp;&nbsp;[|<span class="id" title="var">q</span> $||$ <span class="id" title="var">q0</span> $||$ <span class="id" title="var">q1</span>, <span class="id" title="var">l</span>, <span class="id" title="var">h</span>, <span class="id" title="var">k</span>|] @ <span class="id" title="var">i</span> .: <span class="id" title="var">n</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">n</span> -<span class="id" title="var">ND</span>- <span class="id" title="var">d</span> -<span class="id" title="var">ND</span>&gt; <span class="id" title="var">n'</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">q'</span> <span class="id" title="var">q0'</span> <span class="id" title="var">q1'</span> <span class="id" title="var">l'</span> <span class="id" title="var">h'</span> <span class="id" title="var">k'</span>,<br/>
&nbsp;&nbsp;[|<span class="id" title="var">q'</span> $||$ <span class="id" title="var">q0'</span> $||$ <span class="id" title="var">q1'</span>, <span class="id" title="var">l'</span>, <span class="id" title="var">h'</span>, <span class="id" title="var">k'</span>|] @ <span class="id" title="var">i</span> .: <span class="id" title="var">n'</span> /\<br/>
&nbsp;&nbsp;<span class="id" title="var">q</span> -<span class="id" title="var">PD</span>- <span class="id" title="var">d</span> -<span class="id" title="var">PD</span>&gt; <span class="id" title="var">q'</span> /\ <span class="id" title="var">q0</span> -<span class="id" title="var">PD</span>- <span class="id" title="var">d</span> -<span class="id" title="var">PD</span>&gt; <span class="id" title="var">q0'</span> /\ <span class="id" title="var">q1</span> -<span class="id" title="var">PD</span>- <span class="id" title="var">d</span> -<span class="id" title="var">PD</span>&gt; <span class="id" title="var">q1'</span> /\<br/>
&nbsp;&nbsp;<span class="id" title="var">h</span> -<span class="id" title="var">i</span>- <span class="id" title="var">d</span> -<span class="id" title="var">i</span>&gt; <span class="id" title="var">h'</span> /\ <span class="id" title="var">k</span> -<span class="id" title="var">ms</span>- <span class="id" title="var">d</span> -<span class="id" title="var">ms</span>&gt; <span class="id" title="var">k'</span> /\<br/>
&nbsp;&nbsp;<span class="id" title="var">dist2d</span> <span class="id" title="var">l</span> <span class="id" title="var">l'</span> &lt;= <span class="id" title="var">speedMax</span> * <span class="id" title="var">d</span>. 
<br/>
<span class="id" title="keyword">Conjecture</span> <span class="id" title="var">currMode_ent_ex</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">m</span> : <span class="id" title="var">Mode</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">n</span> : <span class="id" title="var">Network</span>),<br/>
&nbsp;&nbsp;<span class="id" title="var">currModeNet</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> &lt;-&gt; <span class="id" title="tactic">exists</span> <span class="id" title="var">e</span>, <span class="id" title="var">e</span> @ <span class="id" title="var">i</span> .: <span class="id" title="var">n</span> /\ <span class="id" title="var">currModeEnt</span> <span class="id" title="var">e</span> = <span class="id" title="var">m</span>.<br/>

<br/>
<span class="id" title="keyword">Conjecture</span> <span class="id" title="var">nextMode_ent_ex</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">m</span> : <span class="id" title="var">Mode</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">n</span> : <span class="id" title="var">Network</span>),<br/>
&nbsp;&nbsp;<span class="id" title="var">nextModeNet</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> &lt;-&gt; <span class="id" title="tactic">exists</span> <span class="id" title="var">e</span>, <span class="id" title="var">e</span> @ <span class="id" title="var">i</span> .: <span class="id" title="var">n</span> /\ <span class="id" title="var">nextModeEnt</span> <span class="id" title="var">m</span> <span class="id" title="var">e</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">currMode_ent_ex_tac</span> <span class="id" title="var">e</span> <span class="id" title="var">U</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Q</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">let</span> <span class="id" title="var">U1</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="var">U</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">let</span> <span class="id" title="var">U2</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="var">U</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;[<span class="id" title="var">H</span> : <span class="id" title="var">currModeNet</span> ?<span class="id" title="var">m</span> ?<span class="id" title="var">i</span> ?<span class="id" title="var">n</span> |- <span class="id" title="var">_</span> ] =&gt; <span class="id" title="var">lets</span> <span class="id" title="var">Q</span> : <span class="id" title="var">H</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">currMode_ent_ex</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Q</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">decompExAnd</span> <span class="id" title="var">Q</span> <span class="id" title="var">e</span> <span class="id" title="var">U1</span> <span class="id" title="var">U2</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nextMode_ent_ex_tac</span> <span class="id" title="var">e</span> <span class="id" title="var">U</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Q</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">let</span> <span class="id" title="var">U1</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="var">U</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">let</span> <span class="id" title="var">U2</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="var">U</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;[<span class="id" title="var">H</span> : <span class="id" title="var">nextModeNet</span> ?<span class="id" title="var">m</span> ?<span class="id" title="var">i</span> ?<span class="id" title="var">n</span> |- <span class="id" title="var">_</span> ] =&gt; <span class="id" title="var">lets</span> <span class="id" title="var">Q</span> : <span class="id" title="var">H</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">nextMode_ent_ex</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Q</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">decompExAnd</span> <span class="id" title="var">Q</span> <span class="id" title="var">e</span> <span class="id" title="var">U1</span> <span class="id" title="var">U2</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">mState_in_net_unique</span> <span class="id" title="var">k</span> <span class="id" title="var">k'</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> : <br/>
&nbsp;&nbsp;<span class="id" title="var">mState_in_net</span> <span class="id" title="var">k</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt; <span class="id" title="var">mState_in_net</span> <span class="id" title="var">k'</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt; <span class="id" title="var">k</span> = <span class="id" title="var">k'</span>.<br/>

<br/>
</div>

<div class="doc">
Given a network state predicate as the goal and the corresponding
entity state predicate in the hypotheses, this solves things using
lenWitness.
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">netState_ent_net_tac</span> := <span class="id" title="tactic">eapply</span> <span class="id" title="var">lenWitness</span>;<br/>
&nbsp;&nbsp;[<span class="id" title="var">eassumption</span> | <span class="id" title="var">eassumption</span>].<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">tfsNext_currModeNet_eq</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> : <span class="id" title="var">currModeNet</span> <span class="id" title="var">m1</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">tfsNextStateNet</span> <span class="id" title="var">m2</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt; <span class="id" title="var">m1</span> = <span class="id" title="var">m2</span>. 
<br/>
</div>

<div class="doc">
The nextSinceState relation can be broken down into the following cases.
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">nexSinceStateNet_cases</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">nextSinceStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">exists</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <span class="id" title="var">ovWaitStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>) \/<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">exists</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span>, <span class="id" title="var">ovReadyStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>) \/<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">exists</span> <span class="id" title="var">m</span>, <span class="id" title="var">switchBcStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>) \/<br/>
&nbsp;&nbsp;(<span class="id" title="var">switchCurrStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>). 
<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">link_net_ent_disc</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">n</span> <span class="id" title="var">n'</span> : <span class="id" title="var">Network</span>) (<span class="id" title="var">e</span> <span class="id" title="var">e'</span> : <span class="id" title="var">Entity</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">a</span> : <span class="id" title="var">ActDiscNet</span>),<br/>
&nbsp;&nbsp;<span class="id" title="var">n</span> -<span class="id" title="var">NA</span>- <span class="id" title="var">a</span> -<span class="id" title="var">NA</span>&gt; <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">e</span> @ <span class="id" title="var">i</span> .: <span class="id" title="var">n</span> -&gt; <span class="id" title="var">e'</span> @ <span class="id" title="var">i</span> .: <span class="id" title="var">n'</span>-&gt;<br/>
&nbsp;&nbsp;(<span class="id" title="var">e</span> = <span class="id" title="var">e'</span> \/ (<span class="id" title="tactic">exists</span> <span class="id" title="var">a'</span>, <span class="id" title="var">e</span> -<span class="id" title="var">EA</span>- <span class="id" title="var">a'</span> -&gt;&gt; <span class="id" title="var">e'</span>)). 
<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">link_netentdisc_tac</span> <span class="id" title="var">b</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| [ <span class="id" title="var">U1</span> : ?<span class="id" title="var">n</span> -<span class="id" title="var">NA</span>- ?<span class="id" title="var">a</span> -<span class="id" title="var">NA</span>&gt; ?<span class="id" title="var">n'</span>, <span class="id" title="var">U2</span> : ?<span class="id" title="var">e</span> @ ?<span class="id" title="var">i</span> .: ?<span class="id" title="var">n</span>,<br/>
&nbsp;&nbsp;<span class="id" title="var">U3</span> : ?<span class="id" title="var">e'</span> @ ?<span class="id" title="var">i</span> .: ?<span class="id" title="var">n'</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">H1</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span> <span class="id" title="var">lets</span> <span class="id" title="var">H1</span> : <span class="id" title="var">link_net_ent_disc</span> <span class="id" title="var">U1</span> <span class="id" title="var">U2</span> <span class="id" title="var">U3</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">H2</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">let</span> <span class="id" title="var">H3</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">elim_intro</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span> <span class="id" title="var">H3</span>; [<span class="id" title="var">subst_all</span> <span class="id" title="var">H2</span> |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">H4</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span> <span class="id" title="var">invertClearAs2</span> <span class="id" title="var">H3</span> <span class="id" title="var">b</span> <span class="id" title="var">H4</span>]<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Does some pre-processing on the proof of a backracking theorem at the
network level. Works where the backtracking has two predecessor cases.
Probably needs to be slightly altered if there's a need to handle more cases. 
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">backtrack_net_pre</span> <span class="id" title="var">U</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">U1</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">let</span> <span class="id" title="var">e</span> := <span class="id" title="tactic">fresh</span> "e" <span class="id" title="tactic">in</span> <span class="id" title="keyword">let</span> <span class="id" title="var">b</span> := <span class="id" title="tactic">fresh</span> "b" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="var">state_pred_net_destr</span> <span class="id" title="var">U</span>; <span class="id" title="var">link_netentdiscbkwd_tac0</span> <span class="id" title="var">e</span> <span class="id" title="var">b</span> <span class="id" title="var">U1</span>;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">EQ</span> := <span class="id" title="tactic">fresh</span> "EQ" <span class="id" title="tactic">in</span> <span class="id" title="keyword">let</span> <span class="id" title="var">EX</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> [<span class="id" title="var">U2</span> : <span class="id" title="var">_</span> \/ <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">elim_intro</span> <span class="id" title="var">U2</span> <span class="id" title="var">EQ</span> <span class="id" title="var">EX</span>; [<span class="id" title="tactic">left</span>; <span class="id" title="tactic">econstructor</span> | ];<br/>
&nbsp;&nbsp;[<span class="id" title="var">eassumption</span> |  | ]; [ <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">assumption</span> | <span class="id" title="var">ex_flat</span>] <span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Tactic for eliminating two contradictory state predicates H and H1
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">state_pred_elim_net</span> <span class="id" title="var">H</span> <span class="id" title="var">H1</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">e</span> := <span class="id" title="tactic">fresh</span> "e" <span class="id" title="tactic">in</span> <span class="id" title="keyword">let</span> <span class="id" title="var">e'</span> := <span class="id" title="tactic">fresh</span> "e'" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">U1</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">let</span> <span class="id" title="var">U2</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">let</span> <span class="id" title="var">U3</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">U1'</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">let</span> <span class="id" title="var">U2'</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">e</span> <span class="id" title="var">U1</span> <span class="id" title="var">U2</span>]; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">e'</span> <span class="id" title="var">U1'</span> <span class="id" title="var">U2'</span>];<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">e'</span> = <span class="id" title="var">e</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">U3</span>;[<span class="id" title="tactic">eapply</span> <span class="id" title="var">entInNetUnique</span>; <span class="id" title="var">eassumption</span> | ];<br/>
&nbsp;&nbsp;<span class="id" title="var">subst_all</span> <span class="id" title="var">U3</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">p0</span> <span class="id" title="var">l0</span> <span class="id" title="var">h0</span> <span class="id" title="var">k0</span>]; <span class="id" title="tactic">inversion</span> <span class="id" title="var">U1</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">U1'</span>; <span class="id" title="tactic">subst</span>; <br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> [<span class="id" title="var">SP1</span> : <span class="id" title="keyword">context</span>[<span class="id" title="var">p0</span>], <span class="id" title="var">SP2</span> : <span class="id" title="keyword">context</span>[<span class="id" title="var">p0</span>] |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">SP1</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">SP2</span> <span class="id" title="keyword">end</span>; <span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> [<span class="id" title="var">PT</span> : <span class="id" title="var">_</span> $||$ <span class="id" title="var">_</span> $||$ <span class="id" title="var">_</span> = ?<span class="id" title="var">p1</span> $||$ ?<span class="id" title="var">p2</span> $||$ ?<span class="id" title="var">p3</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">PT</span>; <span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> [<span class="id" title="var">PT</span> : <span class="id" title="keyword">context</span>[<span class="id" title="var">_</span> $||$ <span class="id" title="var">_</span> $||$ <span class="id" title="var">_</span>] |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">PT</span> <span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" title="var">SP1</span> : <span class="id" title="keyword">context</span>[<span class="id" title="var">p1</span>], <span class="id" title="var">SP2</span> : <span class="id" title="keyword">context</span>[<span class="id" title="var">p1</span>] |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">SP1</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">SP2</span><br/>
&nbsp;&nbsp;| [<span class="id" title="var">SP1</span> : <span class="id" title="keyword">context</span>[<span class="id" title="var">p2</span>], <span class="id" title="var">SP2</span> : <span class="id" title="keyword">context</span>[<span class="id" title="var">p2</span>] |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">SP1</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">SP2</span><br/>
&nbsp;&nbsp;| [<span class="id" title="var">SP1</span> : <span class="id" title="keyword">context</span>[<span class="id" title="var">p3</span>], <span class="id" title="var">SP2</span> : <span class="id" title="keyword">context</span>[<span class="id" title="var">p3</span>] |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">SP1</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">SP2</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">tfsStart_prev_net</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> <span class="id" title="var">n'</span> <span class="id" title="var">a</span> : <span class="id" title="var">tfsStartStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n'</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">n</span> -<span class="id" title="var">NA</span>- <span class="id" title="var">a</span> -<span class="id" title="var">NA</span>&gt; <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">tfsStartStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> \/<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <span class="id" title="var">ovWaitStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ovReady_prev_net</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> <span class="id" title="var">n'</span> <span class="id" title="var">a</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">ovReadyStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span> <span class="id" title="var">i</span> <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">n</span> -<span class="id" title="var">NA</span>- <span class="id" title="var">a</span> -<span class="id" title="var">NA</span>&gt; <span class="id" title="var">n'</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">ovReadyStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> \/<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <span class="id" title="var">ovWaitStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>. 
<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ovWait_del_pres_net</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> <span class="id" title="var">n'</span> <span class="id" title="var">d</span> : <span class="id" title="var">n</span> -<span class="id" title="var">ND</span>- <span class="id" title="var">d</span> -<span class="id" title="var">ND</span>&gt; <span class="id" title="var">n'</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id" title="var">ovWaitStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> &lt;-&gt; <span class="id" title="var">ovWaitStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">i</span> <span class="id" title="var">n'</span>). 
<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">tfsNext_prev_net</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> <span class="id" title="var">n'</span> <span class="id" title="var">a</span> : <span class="id" title="var">tfsNextStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">n'</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">n</span> -<span class="id" title="var">NA</span>- <span class="id" title="var">a</span> -<span class="id" title="var">NA</span>&gt; <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">tfsNextStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> \/ <span class="id" title="var">tfsStartStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">del_pres_bkwd_tfsNext</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> <span class="id" title="var">n'</span> <span class="id" title="var">d</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">n</span> -<span class="id" title="var">ND</span>- <span class="id" title="var">d</span> -<span class="id" title="var">ND</span>&gt; <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">tfsNextStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">tfsNextStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">del_pres_bkwd_tfsStart</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> <span class="id" title="var">n'</span> <span class="id" title="var">d</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">n</span> -<span class="id" title="var">ND</span>- <span class="id" title="var">d</span> -<span class="id" title="var">ND</span>&gt; <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">tfsStartStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">tfsStartStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">tfsNext_urgent_net</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> <span class="id" title="var">n'</span> <span class="id" title="var">d</span> : <br/>
&nbsp;&nbsp;<span class="id" title="var">tfsNextStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt; <span class="id" title="var">n</span> -<span class="id" title="var">ND</span>- <span class="id" title="var">d</span> -<span class="id" title="var">ND</span>&gt; <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">False</span>.<br/>
 
<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">tfsStart_urgent_net</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> <span class="id" title="var">n'</span> <span class="id" title="var">d</span> : <br/>
&nbsp;&nbsp;<span class="id" title="var">tfsStartStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt; <span class="id" title="var">n</span> -<span class="id" title="var">ND</span>- <span class="id" title="var">d</span> -<span class="id" title="var">ND</span>&gt; <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">False</span>.<br/>
 
<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ovReady_wait_track_net</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span> <span class="id" title="var">i</span> <span class="id" title="var">m'</span> <span class="id" title="var">t'</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">n</span> <span class="id" title="var">n'</span> <span class="id" title="var">a</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">ovReadyStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt; <span class="id" title="var">ovWaitStateNet</span> <span class="id" title="var">m'</span> <span class="id" title="var">t'</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">i</span> <span class="id" title="var">n'</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">n</span> -<span class="id" title="var">NA</span>- <span class="id" title="var">a</span> -<span class="id" title="var">NA</span>&gt; <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">m</span> = <span class="id" title="var">m'</span> /\<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">exists</span> <span class="id" title="var">p</span>, <span class="id" title="var">t'</span> = <span class="id" title="var">minusTime</span> <span class="id" title="var">t</span> (<span class="id" title="var">period</span> <span class="id" title="var">m</span>) <span class="id" title="var">p</span>) /\ <span class="id" title="var">x</span> = <span class="id" title="var">t'</span> /\ <span class="id" title="var">y</span> = <span class="id" title="var">period</span> <span class="id" title="var">m</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ovWait_track_net</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">t</span> <span class="id" title="var">t'</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span> <span class="id" title="var">y</span> <span class="id" title="var">y'</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> <span class="id" title="var">n'</span> <span class="id" title="var">a</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">ovWaitStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt; <span class="id" title="var">ovWaitStateNet</span> <span class="id" title="var">m'</span> <span class="id" title="var">t'</span> <span class="id" title="var">x'</span> <span class="id" title="var">y'</span> <span class="id" title="var">i</span> <span class="id" title="var">n'</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">n</span> -<span class="id" title="var">NA</span>- <span class="id" title="var">a</span> -<span class="id" title="var">NA</span>&gt; <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">m</span> = <span class="id" title="var">m'</span> /\ <span class="id" title="var">t</span> = <span class="id" title="var">t'</span> /\ <span class="id" title="var">x</span> = <span class="id" title="var">x'</span> /\ <span class="id" title="var">y</span> = <span class="id" title="var">y'</span>. 
<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ovWait_prev_net</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> <span class="id" title="var">n'</span> <span class="id" title="var">a</span> : <span class="id" title="var">ovWaitStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">i</span> <span class="id" title="var">n'</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">n</span> -<span class="id" title="var">NA</span>- <span class="id" title="var">a</span> -<span class="id" title="var">NA</span>&gt; <span class="id" title="var">n'</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">ovWaitStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> \/<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">exists</span> <span class="id" title="var">l</span>, <span class="id" title="var">ovReadyStateNet</span> <span class="id" title="var">m</span> (<span class="id" title="var">t</span> +<span class="id" title="var">t</span>+ <span class="id" title="var">period</span> <span class="id" title="var">m</span>) <span class="id" title="var">l</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>) \/<br/>
&nbsp;&nbsp;<span class="id" title="var">initStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">reach_net_prot_tac</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> [<span class="id" title="var">RN</span> : <span class="id" title="var">reachableNet</span> ?<span class="id" title="var">n</span>,<br/>
&nbsp;&nbsp;<span class="id" title="var">EIN</span> : [|<span class="id" title="var">_</span>, <span class="id" title="var">_</span>, <span class="id" title="var">_</span>, <span class="id" title="var">_</span>|] @ <span class="id" title="var">_</span> .: ?<span class="id" title="var">n</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">RNP</span> := <span class="id" title="tactic">fresh</span> "RNP" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">RPT</span> := <span class="id" title="tactic">fresh</span> "RPT" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">RNP</span> : <span class="id" title="var">reachable_net_prot</span> <span class="id" title="var">RN</span> <span class="id" title="var">EIN</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">RPT</span> : <span class="id" title="var">reachableProt_triple</span> <span class="id" title="var">RNP</span> <span class="id" title="keyword">end</span>.<br/>

<br/>
</div>
<hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>