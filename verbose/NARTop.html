<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>NARTop</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library NARTop</h1>

<div class="code">
</div>

<div class="doc">
This file was written by Colm Bhandal, PhD student, Foundations and Methods group,
School of Computer Science and Statistics, Trinity College, Dublin, Ireland.
</div>
<div class="code">

<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Equality</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">ComhCoq.Extras.LibTactics</span>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">ComhCoq.GenTacs</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">ComhCoq.StandardResults</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">ComhCoq.ComhBasics</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">ComhCoq.LanguageFoundations</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">ComhCoq.NetworkLanguage</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">ComhCoq.NetAuxBasics</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">ComhCoq.NetAuxDefs</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">ComhCoq.SoftwareLanguage</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">ComhCoq.InterfaceLanguage</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">ComhCoq.ModeStateLanguage</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">ComhCoq.EntAuxDefs</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">ComhCoq.ProtAuxDefs</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">ComhCoq.EntAuxResults</span>.<br/>

<br/>
</div>

<div class="doc">
Net Aux Results Imports 
</div>
<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">ComhCoq.NARInsuff</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">ComhCoq.NARMisc</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">ComhCoq.NARMsgPosition</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">ComhCoq.NAROvlpTime</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">currSince_lower_bound</span> (<span class="id" title="var">n</span> : <span class="id" title="var">Network</span>) (<span class="id" title="var">t</span> : <span class="id" title="keyword">Time</span>) (<span class="id" title="var">m</span> : <span class="id" title="var">Mode</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">reachableNet</span> <span class="id" title="var">n</span>) : <span class="id" title="var">currSince</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">msgLatency</span> + <span class="id" title="var">Rmax</span> <span class="id" title="var">adaptNotif</span> <span class="id" title="var">transMax</span> &lt; <span class="id" title="var">t</span>.<br/>
</div>

<div class="doc">
Proof: Induction on currSince.
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">nextSince_switchCurr_lower</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">t</span> <span class="id" title="var">p</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Rplus_lt_weaken_rr</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Rlt_le</span>. <span class="id" title="var">delPos</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">maxAnTrans_positive</span> : 0 &lt;= <span class="id" title="var">Rmax</span> <span class="id" title="var">adaptNotif</span> <span class="id" title="var">transMax</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Rle_trans</span>;[ |<span class="id" title="tactic">apply</span> <span class="id" title="var">Rmax_l</span>]. <span class="id" title="var">timeNonneg</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">nextSince_fst_deliv_suff</span> (<span class="id" title="var">n</span> : <span class="id" title="var">Network</span>) (<span class="id" title="var">t</span> : <span class="id" title="keyword">Time</span>) (<span class="id" title="var">m</span> : <span class="id" title="var">Mode</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">l</span> : <span class="id" title="var">Position</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">reachableNet</span> <span class="id" title="var">n</span>) : <br/>
&nbsp;&nbsp;<span class="id" title="var">nextSince</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span> -&gt; <span class="id" title="var">inPosNet</span> <span class="id" title="var">l</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">q</span> : <span class="id" title="var">msgLatency</span> + <span class="id" title="var">Rmax</span> <span class="id" title="var">adaptNotif</span> <span class="id" title="var">transMax</span> &lt; <span class="id" title="var">t</span>,<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">s</span> := (<span class="id" title="var">Rplus_lt_weaken_lr</span> <span class="id" title="var">msgLatency</span> (<span class="id" title="var">Rmax</span> <span class="id" title="var">adaptNotif</span> <span class="id" title="var">transMax</span>)<br/>
&nbsp;&nbsp;<span class="id" title="var">t</span> <span class="id" title="var">q</span> <span class="id" title="var">maxAnTrans_positive</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">s'</span> := <span class="id" title="var">Rlt_le</span> <span class="id" title="var">msgLatency</span> <span class="id" title="var">t</span> <span class="id" title="var">s</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">l0</span> <span class="id" title="var">l1</span> <span class="id" title="var">r</span>,<br/>
&nbsp;&nbsp;<span class="id" title="var">delivered</span> ([-[<span class="id" title="var">baseMode</span> <span class="id" title="var">m</span>, <span class="id" title="var">basePosition</span> <span class="id" title="var">l0</span>], <span class="id" title="var">l1</span>, <span class="id" title="var">r</span>-]) (<span class="id" title="var">minusTime</span> <span class="id" title="var">t</span> <span class="id" title="var">msgLatency</span> <span class="id" title="var">s'</span>) <span class="id" title="var">i</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span> /\ <br/>
&nbsp;&nbsp;<span class="id" title="var">sufficient</span> <span class="id" title="var">m</span> <span class="id" title="var">r</span> /\ <span class="id" title="var">dist2d</span> <span class="id" title="var">l</span> <span class="id" title="var">l0</span> &lt;= <span class="id" title="var">speedMax</span>*<span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">U0</span> <span class="id" title="var">U1</span> <span class="id" title="var">q</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">msgLatency</span> &lt; <span class="id" title="var">t</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">MT</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Rplus_lt_weaken_lr</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">maxAnTrans_positive</span>. <span class="id" title="var">lets</span> <span class="id" title="var">FX</span> : <span class="id" title="var">fst_delivered</span> <span class="id" title="var">U0</span> <span class="id" title="var">U1</span> <span class="id" title="var">MT</span>. <span class="id" title="var">decompEx3</span> <span class="id" title="var">FX</span> <span class="id" title="var">l0</span> <span class="id" title="var">l1</span> <span class="id" title="var">r</span> <span class="id" title="var">FD</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">decompAnd2</span> <span class="id" title="var">FD</span> <span class="id" title="var">DE</span> <span class="id" title="var">DI</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">l0</span> <span class="id" title="var">l1</span> <span class="id" title="var">r</span>. <span class="id" title="var">splits</span>;[<span class="id" title="var">my_applys_eq</span> <span class="id" title="var">DE</span> | | <span class="id" title="tactic">apply</span> <span class="id" title="var">DI</span>]. <span class="id" title="var">timering</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">adaptNotif</span> &lt; <span class="id" title="var">t</span> - <span class="id" title="var">msgLatency</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">AT</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Rplus_lt_swap_ll</span> <span class="id" title="tactic">in</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Rle_lt_trans</span>;[ |<span class="id" title="tactic">apply</span> <span class="id" title="var">q</span>]. <span class="id" title="tactic">apply</span> <span class="id" title="var">Rmax_l</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">t</span> - <span class="id" title="var">msgLatency</span> &lt; <span class="id" title="var">t</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">Rplus_lt_swap_rr</span>. <span class="id" title="var">Rplus_lt_tac</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">msgLatency_positive</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">deliv_next_suff</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">U0</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">DE</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">assumption</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ovWait_del_pres_bkwd_net_strong</span> <span class="id" title="var">n</span> <span class="id" title="var">n'</span> <span class="id" title="var">d</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">n</span> -<span class="id" title="var">ND</span>- <span class="id" title="var">d</span> -<span class="id" title="var">ND</span>&gt; <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">ovWaitStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">i</span> <span class="id" title="var">n'</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">ovWaitStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> (<span class="id" title="var">x</span> +<span class="id" title="var">dt</span>+ <span class="id" title="var">d</span>) (<span class="id" title="var">y</span> +<span class="id" title="var">dt</span>+ <span class="id" title="var">d</span>) <span class="id" title="var">i</span> <span class="id" title="var">n</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">init_ovWait_track_net</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">t'</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">n</span> <span class="id" title="var">n'</span> <span class="id" title="var">a</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">initStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt; <span class="id" title="var">ovWaitStateNet</span> <span class="id" title="var">m'</span> <span class="id" title="var">t'</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">i</span> <span class="id" title="var">n'</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">n</span> -<span class="id" title="var">NA</span>- <span class="id" title="var">a</span> -<span class="id" title="var">NA</span>&gt; <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">m</span> = <span class="id" title="var">m'</span> /\ <span class="id" title="var">x</span> = <span class="id" title="var">t'</span> /\ <span class="id" title="var">y</span> = <span class="id" title="var">zeroTime</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Admitted</span>. 
<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">ovWait_sent</span> (<span class="id" title="var">n</span> : <span class="id" title="var">Network</span>) (<span class="id" title="var">m</span> : <span class="id" title="var">Mode</span>) (<span class="id" title="var">t</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="keyword">Time</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">reachableNet</span> <span class="id" title="var">n</span>) : <br/>
&nbsp;&nbsp;<span class="id" title="var">ovWaitStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt; 0 &lt; <span class="id" title="var">y</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">l</span> <span class="id" title="var">q</span>,<br/>
&nbsp;&nbsp;<span class="id" title="var">sent</span> [<span class="id" title="var">baseMode</span> <span class="id" title="var">m</span>, <span class="id" title="var">basePosition</span> <span class="id" title="var">l</span>] (<span class="id" title="var">minusTime</span> (<span class="id" title="var">period</span> <span class="id" title="var">m</span>) <span class="id" title="var">y</span> <span class="id" title="var">q</span>) <span class="id" title="var">i</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introz</span> <span class="id" title="var">U</span>. <span class="id" title="var">genDep2</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">y</span> <span class="id" title="var">U0</span> <span class="id" title="var">x</span> <span class="id" title="var">U</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Admitted</span>. 
<br/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">nextSince_periodic_sent</span> (<span class="id" title="var">n</span> : <span class="id" title="var">Network</span>) (<span class="id" title="var">m</span> : <span class="id" title="var">Mode</span>) (<span class="id" title="var">t</span> <span class="id" title="var">t'</span> : <span class="id" title="keyword">Time</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">reachableNet</span> <span class="id" title="var">n</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">nextSince</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span> -&gt; <span class="id" title="var">t'</span> &lt; <span class="id" title="var">t</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">t''</span> <span class="id" title="var">l</span>,<br/>
&nbsp;&nbsp;<span class="id" title="var">t'</span> &lt; (<span class="id" title="var">time</span> <span class="id" title="var">t''</span>) &lt;= <span class="id" title="var">t'</span> + <span class="id" title="var">period</span> <span class="id" title="var">m</span> /\ <span class="id" title="var">t''</span> &lt;= <span class="id" title="var">t</span> /\<br/>
&nbsp;&nbsp;<span class="id" title="var">sent</span> [<span class="id" title="var">baseMode</span> <span class="id" title="var">m</span>, <span class="id" title="var">basePosition</span> <span class="id" title="var">l</span>] <span class="id" title="var">t''</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">gen</span> <span class="id" title="var">t'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Rle_not_lt</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">timeNonneg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">IH</span> : <span class="id" title="var">IHnextSince</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">IHnextSince</span>. <span class="id" title="var">decompEx2</span> <span class="id" title="var">IH</span> <span class="id" title="var">t''</span> <span class="id" title="var">l</span> <span class="id" title="var">W</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">andflat</span> <span class="id" title="var">Y</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">t''</span> <span class="id" title="var">l</span>. <span class="id" title="var">splits</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">NR</span> : <span class="id" title="var">nextSince_rel_state</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">ND</span> : <span class="id" title="var">nextSince_del_ovWait</span> <span class="id" title="var">w</span> <span class="id" title="var">NR</span>. <span class="id" title="var">decompEx4</span> <span class="id" title="var">ND</span> <span class="id" title="var">m0</span> <span class="id" title="var">t0</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">OS</span>. <span class="id" title="tactic">assert</span> (<span class="id" title="var">m0</span> = <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">ME</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">nextSince_ovWait_modes_eq</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">OS</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">RO</span> : <span class="id" title="var">Rle_or_lt</span> <span class="id" title="var">d</span> <span class="id" title="var">t'</span>. <span class="id" title="var">elim_intro</span> <span class="id" title="var">RO</span> <span class="id" title="var">DT</span> <span class="id" title="var">TD</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="tactic">exists</span> <span class="id" title="var">t''</span>, <span class="id" title="var">nonneg</span> <span class="id" title="var">t'</span> = (<span class="id" title="var">time</span> <span class="id" title="var">t''</span>) + <span class="id" title="var">d</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">TX</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">RlePlusExistsR</span> <span class="id" title="tactic">in</span> <span class="id" title="var">DT</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">invertClearAs2</span> <span class="id" title="var">DT</span> <span class="id" title="var">dt</span> <span class="id" title="var">TE</span>. <span class="id" title="var">decompAnd2</span> <span class="id" title="var">TE</span> <span class="id" title="var">TP</span> <span class="id" title="var">TL</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Rplus_comm</span> <span class="id" title="tactic">in</span> <span class="id" title="var">TP</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">mkTime</span> (<span class="id" title="var">mknonnegreal</span> <span class="id" title="var">dt</span> <span class="id" title="var">TL</span>)). <span class="id" title="tactic">apply</span> <span class="id" title="var">TP</span>. <span class="id" title="var">invertClearAs2</span> <span class="id" title="var">TX</span> <span class="id" title="var">t''</span> <span class="id" title="var">TE</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">t''</span> &lt; <span class="id" title="var">t</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">TL</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">TE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="var">Rplus_lt_tac</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHnextSince</span> <span class="id" title="tactic">in</span> <span class="id" title="var">TL</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">IHnextSince</span>. <span class="id" title="var">decompEx2</span> <span class="id" title="var">TL</span> <span class="id" title="var">u</span> <span class="id" title="var">l</span> <span class="id" title="var">TA</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">andflat</span> <span class="id" title="var">T</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">u</span> +<span class="id" title="var">dt</span>+ <span class="id" title="var">d</span>) <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">splits</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">TE</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="var">Rplus_lt_tac</span>. <span class="id" title="var">Rplus3_swap_2_3</span> <span class="id" title="var">t''</span> <span class="id" title="var">d</span> (<span class="id" title="var">period</span> <span class="id" title="var">m</span>). <span class="id" title="var">Rplus_le_tac</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">Rplus_le_tac</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">zeroTime</span> &lt; (<span class="id" title="var">delToTime</span> (<span class="id" title="var">y</span> +<span class="id" title="var">dt</span>+ <span class="id" title="var">d</span>))) <span class="id" title="keyword">as</span> <span class="id" title="var">YD</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">replace</span> 0 <span class="id" title="keyword">with</span> (0 + 0).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Rplus_le_lt_compat</span>. <span class="id" title="var">timeNonneg</span>. <span class="id" title="var">delPos</span>. <span class="id" title="tactic">ring</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">SX</span> : <span class="id" title="var">ovWait_sent</span> <span class="id" title="var">p</span> <span class="id" title="var">OS</span> <span class="id" title="var">YD</span>. <span class="id" title="var">decompEx2</span> <span class="id" title="var">SX</span> <span class="id" title="var">l</span> <span class="id" title="var">q</span> <span class="id" title="var">SE</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">y</span> &lt;= <span class="id" title="var">period</span> <span class="id" title="var">m0</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">YL</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">q</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Rplus_le_weaken_lr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">q</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Rlt_le</span>. <span class="id" title="var">delPos</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">minusTime</span> (<span class="id" title="var">period</span> <span class="id" title="var">m0</span>) <span class="id" title="var">y</span> <span class="id" title="var">YL</span>) <span class="id" title="var">l</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">q</span>, <span class="id" title="var">YD</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">splits</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Rlt_le_trans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">TD</span>. <span class="id" title="var">Rplus_le_tac</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Rplus_comm</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">ME</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Rminus_plus_zero</span> (<span class="id" title="var">period</span> <span class="id" title="var">m</span>) <span class="id" title="var">y</span>. <span class="id" title="var">Rplus_le_tac</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Rplus_le_swap_rr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> 0 <span class="id" title="keyword">with</span> (0 + 0). <span class="id" title="tactic">apply</span> <span class="id" title="var">Rplus_le_compat</span>; <span class="id" title="var">timeNonneg</span>. <span class="id" title="tactic">ring</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">ME</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">lets</span> <span class="id" title="var">ON</span> : <span class="id" title="var">ovWait_nextSince_time</span> <span class="id" title="var">OS</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">ON</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Rminus_le_swap_lr</span>. <span class="id" title="var">my_applys_eq</span> <span class="id" title="var">ON</span>. <span class="id" title="tactic">ring</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">YL</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">ME</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">YL</span>. <span class="id" title="var">lets</span> <span class="id" title="var">SD</span> : <span class="id" title="var">sentDel</span> <span class="id" title="var">p</span> <span class="id" title="var">w</span> <span class="id" title="var">SE</span>. <span class="id" title="var">my_applys_eq</span> <span class="id" title="var">SD</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">timering</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">tfsBc_not_currSince</span> (<span class="id" title="var">n</span> : <span class="id" title="var">Network</span>) (<span class="id" title="var">m</span> : <span class="id" title="var">Mode</span>) (<span class="id" title="var">t</span>  : <span class="id" title="keyword">Time</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">reachableNet</span> <span class="id" title="var">n</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">tfsBcStateNet</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt; <span class="id" title="var">currSince</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span> -&gt; <span class="id" title="var">False</span>. <span class="id" title="var">Admitted</span>. </div>

<div class="doc">
Proof: Induction on currSince. The base case fails because tfsBcState is not switchListen.
The delay case is easy because by (...backwards del pres state...) the previous state is
tfsBc also, and we just apply the I.H. to get false. The discrete case proceeds by
(...backtracking...) on tfsBcState to get that the previous state was either tfsBc state or
tfsCurr. In the former case, applying the I.H. will do. In the latter, we can show that the
current mode is no longer m. We do this by showing that the mode was m in the previous
state (currSince-curr) and then showing that the mode transition relation is anti-reflexive
&amp; by (...tracking...) we know the action linking the states is a synch on mCurr, so the new
mode must be different to m, which contradicts the currSince discrete constructor that
required the currMode to be m.
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">currSince_bc_state</span> (<span class="id" title="var">n</span> : <span class="id" title="var">Network</span>) (<span class="id" title="var">m</span> : <span class="id" title="var">Mode</span>) (<span class="id" title="var">t</span> : <span class="id" title="keyword">Time</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">reachableNet</span> <span class="id" title="var">n</span>) : <span class="id" title="var">currSince</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>, <span class="id" title="var">bcWaitStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>) \/<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">exists</span> <span class="id" title="var">l</span>, <span class="id" title="var">bcReadyStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">l</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>). <span class="id" title="var">Admitted</span>. </div>

<div class="doc">
Proof: Induction on currSince. In the base case, we have that the overlap component has
gone from switchCurr to switchListen, in which case the broadcast component can be shown to
have stayed the same (...). But in a separate result (...EA::inter_component...) we can
show that switchCurrState m implies bcWaitState m, and since the broadcast component has
not changed across the transition, we have our left disjunct to satisfy our goal. Now,
for the inductive cases, we can apply the I.H. and then do a case analysis on the previous
state.
For the bcReady state, we can show (...fwd_track...) that it is either preserved or
transitions to bcWait by a discrete transition, giving us our goal. We can also show that
is urgent, allowing us to proceed with a contradiction in the delay inductive case.
For the bcWait state, it is easy to show (...delay_pres_state...) that the delay transition
preserves this state. For the discrete transition case, we assume that our goal does not
hold towards a contradiction. Well then the broadcast component must be in the sleeping
state. Then we can show (...tracking...) that the action linking the states must be a tau,
with the broadcast component contributing an input on trans. Now, it can be shown
(...activation...) that the only state willing to output on trans is tfsBc. But we can show
elsewhere (tfsBc_not_currSince) that tfsBc implies that we are not currSince, which
contradicts the hypothesis.
<div class="paragraph"> </div>

 If we're currSince &amp; we can delay, then we're in the bcWait state.
</div>
<div class="code">
<span class="id" title="keyword">Corollary</span> <span class="id" title="var">currSince_del_bcWait</span> (<span class="id" title="var">n</span> <span class="id" title="var">n'</span> : <span class="id" title="var">Network</span>) (<span class="id" title="var">m</span> : <span class="id" title="var">Mode</span>) (<span class="id" title="var">t</span> : <span class="id" title="keyword">Time</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">d</span> : <span class="id" title="var">Delay</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">reachableNet</span> <span class="id" title="var">n</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">n</span> -<span class="id" title="var">ND</span>- <span class="id" title="var">d</span> -<span class="id" title="var">ND</span>&gt; <span class="id" title="var">n'</span> -&gt; <span class="id" title="var">currSince</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>, <span class="id" title="var">bcWaitStateNet</span> <span class="id" title="var">m</span> (<span class="id" title="var">delToTime</span> (<span class="id" title="var">x</span> +<span class="id" title="var">dt</span>+ <span class="id" title="var">d</span>)) <span class="id" title="var">i</span> <span class="id" title="var">n</span>. <span class="id" title="var">Admitted</span>. </div>

<div class="doc">
Proof: Apply currSince_bc_state and then eliminate bcReady as it is urgent
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">bcWait_currSince_time</span> (<span class="id" title="var">n</span> : <span class="id" title="var">Network</span>) (<span class="id" title="var">m</span> : <span class="id" title="var">Mode</span>) (<span class="id" title="var">x</span> <span class="id" title="var">t</span>: <span class="id" title="keyword">Time</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">reachableNet</span> <span class="id" title="var">n</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">bcWaitStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt; <span class="id" title="var">currSince</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span> -&gt; <span class="id" title="var">period</span> <span class="id" title="var">m</span> - <span class="id" title="var">x</span> &lt;= <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Admitted</span>. </div>

<div class="doc">
Proof: Induction on currSince.
Base case: x = period m, so &lt;= t is trivial.
Discrete inductive: x and t preserved so I.H. carries forth.
Delay inductive: x decreases, t increases, so I.H. is more than enough.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">bcWait_sent</span> (<span class="id" title="var">n</span> : <span class="id" title="var">Network</span>) (<span class="id" title="var">m</span> : <span class="id" title="var">Mode</span>) (<span class="id" title="var">x</span> : <span class="id" title="keyword">Time</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">reachableNet</span> <span class="id" title="var">n</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">bcWaitStateNet</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt; <span class="id" title="var">zeroTime</span> &lt; <span class="id" title="var">x</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">l</span> <span class="id" title="var">q</span>,<br/>
&nbsp;&nbsp;<span class="id" title="var">sent</span> [<span class="id" title="var">baseMode</span> <span class="id" title="var">m</span>, <span class="id" title="var">basePosition</span> <span class="id" title="var">l</span>] (<span class="id" title="var">minusTime</span> (<span class="id" title="var">period</span> <span class="id" title="var">m</span>) <span class="id" title="var">x</span> <span class="id" title="var">q</span>) <span class="id" title="var">i</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">gen</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">false</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">initial_not_bcWait_net</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">i0</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">x</span> &lt;&gt; <span class="id" title="var">zeroTime</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Q</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">not</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">F</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">F</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">contradiction</span> (<span class="id" title="var">Rlt_irrefl</span> <span class="id" title="var">zeroTime</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">BB</span> : <span class="id" title="var">bcWait_bktrk_net</span> <span class="id" title="var">p</span> <span class="id" title="var">H</span> <span class="id" title="var">s</span>. <span class="id" title="var">decompOr3</span> <span class="id" title="var">BB</span> <span class="id" title="var">W1</span> <span class="id" title="var">W2</span> <span class="id" title="var">W3</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHp</span> <span class="id" title="tactic">in</span> <span class="id" title="var">W1</span>. <span class="id" title="var">decompEx2</span> <span class="id" title="var">W1</span> <span class="id" title="var">l</span> <span class="id" title="var">q</span> <span class="id" title="var">V</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">l</span> <span class="id" title="var">q</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>. <span class="id" title="var">andflat</span> <span class="id" title="var">Y</span>. <span class="id" title="var">contradiction</span> <span class="id" title="var">Q</span>. <span class="id" title="var">invertClearAs2</span> <span class="id" title="var">W3</span> <span class="id" title="var">l</span> <span class="id" title="var">L</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">andflat</span> <span class="id" title="var">Y</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Y1</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">l</span> (<span class="id" title="var">Rle_refl</span> <span class="id" title="var">x</span>). <span class="id" title="tactic">constructor</span>. <span class="id" title="var">my_applys_eq</span> <span class="id" title="var">Y2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">timering</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">BD</span> : <span class="id" title="var">bcWaitNet_del_bkwd</span> <span class="id" title="var">s</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">assert</span> (<span class="id" title="var">zeroTime</span> &lt; <span class="id" title="var">x</span> +<span class="id" title="var">dt</span>+ <span class="id" title="var">d</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">ZL</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Rplus_lt_weaken_rl</span>. <span class="id" title="var">timeNonneg</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">delPos</span>. <span class="id" title="var">lets</span> <span class="id" title="var">IH</span> : <span class="id" title="var">IHp</span> <span class="id" title="var">BD</span> <span class="id" title="var">ZL</span>. <span class="id" title="var">decompEx2</span> <span class="id" title="var">IH</span> <span class="id" title="var">l</span> <span class="id" title="var">q</span> <span class="id" title="var">SE</span>. <span class="id" title="tactic">assert</span> (<span class="id" title="var">x</span> &lt;= <span class="id" title="var">period</span> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">q0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">q</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Rplus_le_weaken_lr</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">q</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Rlt_le</span>. <span class="id" title="var">delPos</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">l</span> <span class="id" title="var">q0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">sentDel</span> <span class="id" title="tactic">in</span> <span class="id" title="var">SE</span>. <span class="id" title="var">my_applys_eq</span> <span class="id" title="var">SE</span>. <span class="id" title="var">timering</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">currSince_periodic_sent</span> (<span class="id" title="var">n</span> : <span class="id" title="var">Network</span>) (<span class="id" title="var">m</span> : <span class="id" title="var">Mode</span>) (<span class="id" title="var">t</span> <span class="id" title="var">t'</span> : <span class="id" title="keyword">Time</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">reachableNet</span> <span class="id" title="var">n</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">currSince</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span> -&gt; <span class="id" title="var">t'</span> &lt; <span class="id" title="var">t</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">t''</span> <span class="id" title="var">l</span>, <span class="id" title="var">t'</span> &lt; (<span class="id" title="var">time</span> <span class="id" title="var">t''</span>)  /\ <span class="id" title="var">t''</span> &lt;= <span class="id" title="var">t'</span> + <span class="id" title="var">period</span> <span class="id" title="var">m</span> /\ <span class="id" title="var">t''</span> &lt;= <span class="id" title="var">t</span> /\<br/>
&nbsp;&nbsp;<span class="id" title="var">sent</span> [<span class="id" title="var">baseMode</span> <span class="id" title="var">m</span>, <span class="id" title="var">basePosition</span> <span class="id" title="var">l</span>] <span class="id" title="var">t''</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">t'</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">addHyp</span> (<span class="id" title="var">nextSince_periodic_sent</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">t'</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> <span class="id" title="var">H</span> <span class="id" title="var">H2</span>). <span class="id" title="var">decompose</span> [<span class="id" title="var">ex</span>] <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">x</span> <span class="id" title="var">into</span> <span class="id" title="var">t''</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">x0</span> <span class="id" title="var">into</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">t''</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">l</span>. <span class="id" title="var">decompose</span> [<span class="id" title="var">and</span>] <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H5</span>. <span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>). <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHcurrSince</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="var">decompose</span> [<span class="id" title="var">ex</span>] <span class="id" title="var">H1</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H1</span>. <span class="id" title="var">decompose</span> [<span class="id" title="var">and</span>] <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">x</span> <span class="id" title="var">into</span> <span class="id" title="var">t''</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">x0</span> <span class="id" title="var">into</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">t''</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">IHcurrSince</span>. <span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>). <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">addHyp</span> (<span class="id" title="var">Rle_or_lt</span> <span class="id" title="var">d</span> <span class="id" title="var">t'</span>). <span class="id" title="var">invertClear</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="tactic">exists</span> <span class="id" title="var">t''</span>, <span class="id" title="var">nonneg</span> <span class="id" title="var">t'</span> = (<span class="id" title="var">time</span> <span class="id" title="var">t''</span>) + <span class="id" title="var">d</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">RlePlusExistsR</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">invertClear</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">x</span> <span class="id" title="var">into</span> <span class="id" title="var">t''</span>. <span class="id" title="var">invertClear</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Rplus_comm</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">mkTime</span> (<span class="id" title="var">mknonnegreal</span> <span class="id" title="var">t''</span> <span class="id" title="var">H3</span>)). <span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span>. <span class="id" title="var">invertClear</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">x</span> <span class="id" title="var">into</span> <span class="id" title="var">t''</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">t''</span> &lt; <span class="id" title="var">t</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Rplus_lt_reg_r</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHcurrSince</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">IHcurrSince</span>. <span class="id" title="var">decompose</span> [<span class="id" title="var">ex</span>] <span class="id" title="var">H1</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">x</span> <span class="id" title="var">into</span> <span class="id" title="var">u</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">x0</span> <span class="id" title="var">into</span> <span class="id" title="var">l</span>. <span class="id" title="var">decompose</span> [<span class="id" title="var">and</span>] <span class="id" title="var">H5</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">u</span> +<span class="id" title="var">dt</span>+ <span class="id" title="var">d</span>). <span class="id" title="tactic">exists</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Rplus_lt_compat_r</span>. <span class="id" title="tactic">assumption</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Rplus_comm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Rplus_assoc</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Rplus_le_compat_r</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Rplus_comm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Rplus_le_compat_r</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">addHyp</span> (<span class="id" title="var">currSince_del_bcWait</span> <span class="id" title="var">n</span> <span class="id" title="var">n'</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">i</span> <span class="id" title="var">d</span> <span class="id" title="var">p</span> <span class="id" title="var">w</span> <span class="id" title="var">H</span>). <span class="id" title="var">invertClear</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">zeroTime</span> &lt; (<span class="id" title="var">delToTime</span> (<span class="id" title="var">x</span> +<span class="id" title="var">dt</span>+ <span class="id" title="var">d</span>))). <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">replace</span> 0 <span class="id" title="keyword">with</span> (0 + 0).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Rplus_le_lt_compat</span>. <span class="id" title="var">timeNonneg</span>. <span class="id" title="var">delPos</span>. <span class="id" title="tactic">ring</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">addHyp</span> (<span class="id" title="var">bcWait_sent</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span> (<span class="id" title="var">x</span> +<span class="id" title="var">dt</span>+ <span class="id" title="var">d</span>) <span class="id" title="var">i</span> <span class="id" title="var">p</span> <span class="id" title="var">H3</span> <span class="id" title="var">H1</span>). <span class="id" title="var">decompose</span> [<span class="id" title="var">ex</span>] <span class="id" title="var">H4</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">x1</span> <span class="id" title="var">into</span> <span class="id" title="var">Q</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">x0</span> <span class="id" title="var">into</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">x</span> &lt;= <span class="id" title="var">period</span> <span class="id" title="var">m</span>). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Q</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Rplus_le_weaken_lr</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Q</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Rlt_le</span>. <span class="id" title="var">delPos</span>. <span class="id" title="tactic">exists</span> (<span class="id" title="var">minusTime</span> (<span class="id" title="var">period</span> <span class="id" title="var">m</span>) <span class="id" title="var">x</span> <span class="id" title="var">H4</span>). <span class="id" title="tactic">exists</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Rlt_le_trans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Q</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Rplus_le_swap_lr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Rplus_comm</span>. <span class="id" title="tactic">assumption</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Rplus_comm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Rminus_le_weaken_lr</span>. <span class="id" title="var">timeNonneg</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Rplus_le_weaken_rr</span>. <span class="id" title="var">timeNonneg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Rle_refl</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">addHyp</span> (<span class="id" title="var">bcWait_currSince_time</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span> (<span class="id" title="var">x</span> +<span class="id" title="var">dt</span>+ <span class="id" title="var">d</span>) <span class="id" title="var">t</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> <span class="id" title="var">H3</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H5</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Rminus_le_swap_lr</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Rle_trans</span>;[ |<span class="id" title="tactic">apply</span> <span class="id" title="var">H5</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Req_le</span>. <span class="id" title="tactic">ring</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">minusTime</span> (<span class="id" title="var">nonneg</span> (<span class="id" title="var">time</span> (<span class="id" title="var">period</span> <span class="id" title="var">m</span>))) (<span class="id" title="var">nonneg</span> (<span class="id" title="var">time</span> <span class="id" title="var">x</span>)) <span class="id" title="var">H4</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">delToTime</span> (<span class="id" title="var">minusTime</span> (<span class="id" title="var">nonneg</span> (<span class="id" title="var">time</span> (<span class="id" title="var">period</span> <span class="id" title="var">m</span>)))<br/>
&nbsp;&nbsp;(<span class="id" title="var">nonneg</span> (<span class="id" title="var">time</span> (<span class="id" title="var">delToTime</span> (<span class="id" title="var">x</span> +<span class="id" title="var">dt</span>+ <span class="id" title="var">d</span>)))) <span class="id" title="var">Q</span> +<span class="id" title="var">dt</span>+ <span class="id" title="var">d</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">assumption</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">timeEqR</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">ring</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">currSince_fst_deliv_suff</span> (<span class="id" title="var">n</span> : <span class="id" title="var">Network</span>) (<span class="id" title="var">m</span> : <span class="id" title="var">Mode</span>) (<span class="id" title="var">t</span> : <span class="id" title="keyword">Time</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">l</span> : <span class="id" title="var">Position</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">reachableNet</span> <span class="id" title="var">n</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">currSince</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span> -&gt; <span class="id" title="var">inPosNet</span> <span class="id" title="var">l</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">q</span>,<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">s</span> := (<span class="id" title="var">Rplus_lt_weaken_lr</span> <span class="id" title="var">msgLatency</span> (<span class="id" title="var">Rmax</span> <span class="id" title="var">adaptNotif</span> <span class="id" title="var">transMax</span>) <span class="id" title="var">t</span> <span class="id" title="var">q</span><br/>
&nbsp;&nbsp;<span class="id" title="var">maxAnTrans_positive</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">s'</span> := <span class="id" title="var">Rlt_le</span> <span class="id" title="var">msgLatency</span> <span class="id" title="var">t</span> <span class="id" title="var">s</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">r</span> <span class="id" title="var">l0</span> <span class="id" title="var">l1</span>,<br/>
&nbsp;&nbsp;<span class="id" title="var">delivered</span> ([-[<span class="id" title="var">baseMode</span> <span class="id" title="var">m</span>, <span class="id" title="var">basePosition</span> <span class="id" title="var">l0</span>], <span class="id" title="var">l1</span>, <span class="id" title="var">r</span>-]) (<span class="id" title="var">minusTime</span> <span class="id" title="var">t</span> <span class="id" title="var">msgLatency</span> <span class="id" title="var">s'</span>) <span class="id" title="var">i</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span> /\ <br/>
&nbsp;&nbsp;<span class="id" title="var">sufficient</span> <span class="id" title="var">m</span> <span class="id" title="var">r</span> /\ <span class="id" title="var">dist2d</span> <span class="id" title="var">l</span> <span class="id" title="var">l0</span> &lt;= <span class="id" title="var">speedMax</span>*<span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">addHyp</span> (<span class="id" title="var">nextSince_switchCurr_lower</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">t</span> <span class="id" title="var">p</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">msgLatency</span> + <span class="id" title="var">adaptNotif</span> &lt; <span class="id" title="var">t</span>). <span class="id" title="tactic">eapply</span> <span class="id" title="var">Rle_lt_trans</span>;[ |<span class="id" title="tactic">apply</span> <span class="id" title="var">H3</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Rplus_le_compat</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Rle_refl</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Rmax_l</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">addHyp</span> (<span class="id" title="var">inPos_pres_disc</span> <span class="id" title="var">n</span> <span class="id" title="var">n'</span> <span class="id" title="var">a</span> <span class="id" title="var">l</span> <span class="id" title="var">i</span> <span class="id" title="var">w</span>). <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H5</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">addHyp</span> (<span class="id" title="var">nextSince_fst_deliv_suff</span> <span class="id" title="var">n</span> <span class="id" title="var">t</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">l</span> <span class="id" title="var">p</span> <span class="id" title="var">H</span> <span class="id" title="var">H2</span> <span class="id" title="var">H3</span>). <span class="id" title="tactic">cbv</span> <span class="id" title="keyword">zeta</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H6</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">decompose</span> [<span class="id" title="var">ex</span>] <span class="id" title="var">H6</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H6</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">x</span> <span class="id" title="var">into</span> <span class="id" title="var">l0</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">x0</span> <span class="id" title="var">into</span> <span class="id" title="var">l1</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">x1</span> <span class="id" title="var">into</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">decompose</span> [<span class="id" title="var">and</span>] <span class="id" title="var">H7</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H7</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">r</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">l0</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">l1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">addHyp</span> (<span class="id" title="var">inPos_pres_disc</span> <span class="id" title="var">n</span> <span class="id" title="var">n'</span> <span class="id" title="var">a</span> <span class="id" title="var">l</span> <span class="id" title="var">i</span> <span class="id" title="var">w</span>). <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHcurrSince</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">IHcurrSince</span>. <span class="id" title="tactic">cbv</span> <span class="id" title="keyword">zeta</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">decompose</span> [<span class="id" title="var">ex</span>] <span class="id" title="var">H1</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">x</span> <span class="id" title="var">into</span> <span class="id" title="var">q</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">x0</span> <span class="id" title="var">into</span> <span class="id" title="var">r</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">x1</span> <span class="id" title="var">into</span> <span class="id" title="var">l0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">x2</span> <span class="id" title="var">into</span> <span class="id" title="var">l1</span>. <span class="id" title="var">decompose</span> [<span class="id" title="var">and</span>] <span class="id" title="var">H4</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">q</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">r</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">l0</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">l1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>). <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">addHyp</span> (<span class="id" title="var">inPos_del_bound_bkwd</span> <span class="id" title="var">n</span> <span class="id" title="var">n'</span> <span class="id" title="var">d</span> <span class="id" title="var">l</span> <span class="id" title="var">i</span> <span class="id" title="var">H0</span> <span class="id" title="var">w</span>). <span class="id" title="var">invertClear</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">x</span> <span class="id" title="var">into</span> <span class="id" title="var">l0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">invertClear</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHcurrSince</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">IHcurrSince</span>. <span class="id" title="tactic">cbv</span> <span class="id" title="keyword">zeta</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="var">decompose</span> [<span class="id" title="var">ex</span>] <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">x0</span> <span class="id" title="var">into</span> <span class="id" title="var">r</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">x1</span> <span class="id" title="var">into</span> <span class="id" title="var">l1</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">x2</span> <span class="id" title="var">into</span> <span class="id" title="var">l2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">decompose</span> [<span class="id" title="var">and</span>] <span class="id" title="var">H4</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">msgLatency</span> + <span class="id" title="var">Rmax</span> <span class="id" title="var">adaptNotif</span> <span class="id" title="var">transMax</span> &lt; <span class="id" title="var">t</span> +<span class="id" title="var">dt</span>+ <span class="id" title="var">d</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">q</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Rplus_lt_weaken_rr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Rlt_le</span>. <span class="id" title="var">delPos</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">q</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">r</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">l1</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">l2</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">minusTime</span> (<span class="id" title="var">nonneg</span> (<span class="id" title="var">time</span> (<span class="id" title="var">delToTime</span> (<span class="id" title="var">t</span> +<span class="id" title="var">dt</span>+ <span class="id" title="var">d</span>)))) (<span class="id" title="var">nonneg</span> (<span class="id" title="var">time</span> <span class="id" title="var">msgLatency</span>))<br/>
&nbsp;&nbsp;(<span class="id" title="var">Rlt_le</span> (<span class="id" title="var">nonneg</span> (<span class="id" title="var">time</span> <span class="id" title="var">msgLatency</span>)) (<span class="id" title="var">nonneg</span> (<span class="id" title="var">time</span> (<span class="id" title="var">delToTime</span> (<span class="id" title="var">t</span> +<span class="id" title="var">dt</span>+ <span class="id" title="var">d</span>))))<br/>
&nbsp;&nbsp;(<span class="id" title="var">Rplus_lt_weaken_lr</span> (<span class="id" title="var">nonneg</span> (<span class="id" title="var">time</span> <span class="id" title="var">msgLatency</span>))<br/>
&nbsp;&nbsp;(<span class="id" title="var">Rmax</span> (<span class="id" title="var">nonneg</span> (<span class="id" title="var">time</span> <span class="id" title="var">adaptNotif</span>)) (<span class="id" title="var">nonneg</span> (<span class="id" title="var">time</span> <span class="id" title="var">transMax</span>)))<br/>
&nbsp;&nbsp;(<span class="id" title="var">nonneg</span> (<span class="id" title="var">time</span> (<span class="id" title="var">delToTime</span> (<span class="id" title="var">t</span> +<span class="id" title="var">dt</span>+ <span class="id" title="var">d</span>)))) <span class="id" title="var">q</span> <span class="id" title="var">maxAnTrans_positive</span>))) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;(<span class="id" title="var">delToTime</span> (<span class="id" title="var">minusTime</span> (<span class="id" title="var">nonneg</span> (<span class="id" title="var">time</span> <span class="id" title="var">t</span>)) (<span class="id" title="var">nonneg</span> (<span class="id" title="var">time</span> <span class="id" title="var">msgLatency</span>))<br/>
&nbsp;&nbsp;(<span class="id" title="var">Rlt_le</span> (<span class="id" title="var">nonneg</span> (<span class="id" title="var">time</span> <span class="id" title="var">msgLatency</span>)) (<span class="id" title="var">nonneg</span> (<span class="id" title="var">time</span> <span class="id" title="var">t</span>))<br/>
&nbsp;&nbsp;(<span class="id" title="var">Rplus_lt_weaken_lr</span> (<span class="id" title="var">nonneg</span> (<span class="id" title="var">time</span> <span class="id" title="var">msgLatency</span>))<br/>
&nbsp;&nbsp;(<span class="id" title="var">Rmax</span> (<span class="id" title="var">nonneg</span> (<span class="id" title="var">time</span> <span class="id" title="var">adaptNotif</span>)) (<span class="id" title="var">nonneg</span> (<span class="id" title="var">time</span> <span class="id" title="var">transMax</span>)))<br/>
&nbsp;&nbsp;(<span class="id" title="var">nonneg</span> (<span class="id" title="var">time</span> <span class="id" title="var">t</span>)) <span class="id" title="var">x</span> <span class="id" title="var">maxAnTrans_positive</span>)) +<span class="id" title="var">dt</span>+ <span class="id" title="var">d</span>)). <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">assumption</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">timeEqR</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">ring</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Rle_trans</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">dist_tri_ineq</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Rmult_plus_distr_l</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Rplus_comm</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Rplus_le_compat</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H6</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">distSymmetric</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H3</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">pre_del_suff</span> (<span class="id" title="var">n</span> : <span class="id" title="var">Network</span>) (<span class="id" title="var">m</span> : <span class="id" title="var">Mode</span>) (<span class="id" title="var">t</span> : <span class="id" title="keyword">Time</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">i</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">l</span> : <span class="id" title="var">Position</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">reachableNet</span> <span class="id" title="var">n</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">currSince</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span> -&gt; <span class="id" title="var">inPosNet</span> <span class="id" title="var">l</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> -&gt; ~<span class="id" title="var">failSafe</span> <span class="id" title="var">m</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">t'</span> <span class="id" title="var">r</span> <span class="id" title="var">l0</span> <span class="id" title="var">l1</span>,<br/>
&nbsp;&nbsp;<span class="id" title="var">delivered</span> ([-[<span class="id" title="var">baseMode</span> <span class="id" title="var">m</span>, <span class="id" title="var">basePosition</span> <span class="id" title="var">l0</span>], <span class="id" title="var">l1</span>, <span class="id" title="var">r</span>-]) <span class="id" title="var">t'</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span> /\ <br/>
&nbsp;&nbsp;<span class="id" title="var">sufficient</span> <span class="id" title="var">m</span> <span class="id" title="var">r</span> /\ <span class="id" title="var">t'</span> [:] (<span class="id" title="var">preDeliveredInterval</span> <span class="id" title="var">m</span>) /\ <span class="id" title="var">t'</span> &lt; <span class="id" title="var">t</span> /\<br/>
&nbsp;&nbsp;<span class="id" title="var">dist2d</span> <span class="id" title="var">l</span> <span class="id" title="var">l0</span> &lt;= <span class="id" title="var">speedMax</span>*(<span class="id" title="var">msgLatency</span>+ <span class="id" title="var">t'</span>). <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> [ <span class="id" title="var">H</span> : ~<span class="id" title="var">failSafe</span> <span class="id" title="var">m</span> |- <span class="id" title="var">_</span> ] =&gt; <span class="id" title="tactic">rename</span> <span class="id" title="var">H</span> <span class="id" title="var">into</span> <span class="id" title="var">Q</span> <span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<span class="id" title="var">preDeliveredInterval</span> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">h</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">preDeliveredInterval</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqh</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<span class="id" title="var">msgLatency</span> + <span class="id" title="var">Rmax</span> <span class="id" title="var">adaptNotif</span> <span class="id" title="var">transMax</span> + <span class="id" title="var">period</span> <span class="id" title="var">m</span> + <span class="id" title="var">trans</span> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">u</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">addHyp</span> (<span class="id" title="var">Rle_or_le</span> <span class="id" title="var">t</span> <span class="id" title="var">u</span>). <span class="id" title="var">invertClear</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">addHyp</span> (<span class="id" title="var">currSince_fst_deliv_suff</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">i</span> <span class="id" title="var">l</span> <span class="id" title="var">p</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span>). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="var">decompose</span> [<span class="id" title="var">ex</span>] <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H1</span>. <span class="id" title="var">decompose</span> [<span class="id" title="var">and</span>] <span class="id" title="var">H4</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">x0</span> <span class="id" title="var">into</span> <span class="id" title="var">r</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">x1</span> <span class="id" title="var">into</span> <span class="id" title="var">l0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">x2</span> <span class="id" title="var">into</span> <span class="id" title="var">l1</span>. <span class="id" title="var">remember</span> (<span class="id" title="var">minusTime</span> <span class="id" title="var">t</span> <span class="id" title="var">msgLatency</span> (<span class="id" title="var">Rlt_le</span> <span class="id" title="var">msgLatency</span> <span class="id" title="var">t</span><br/>
&nbsp;&nbsp;(<span class="id" title="var">Rplus_lt_weaken_lr</span> <span class="id" title="var">msgLatency</span> (<span class="id" title="var">Rmax</span> <span class="id" title="var">adaptNotif</span> <span class="id" title="var">transMax</span>) <span class="id" title="var">t</span> <span class="id" title="var">x</span> <span class="id" title="var">maxAnTrans_positive</span>)))<br/>
&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">t'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">foldDist</span> <span class="id" title="var">l</span> <span class="id" title="var">l0</span> <span class="id" title="var">H6</span>. <span class="id" title="tactic">assert</span> (<span class="id" title="var">nonneg</span> <span class="id" title="var">t</span> = <span class="id" title="var">t'</span> + <span class="id" title="var">msgLatency</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqt'</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">ring</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H6</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Rplus_comm</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H6</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">t'</span> &lt; <span class="id" title="var">t</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Rlt_plus_r</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">msgLatency_positive</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">t'</span> <span class="id" title="var">r</span> <span class="id" title="var">l0</span> <span class="id" title="var">l1</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">assumption</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">assumption</span>. <span class="id" title="tactic">split</span>;[ |<span class="id" title="tactic">split</span>;<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqh</span>. <span class="id" title="tactic">replace</span> (<span class="id" title="var">nonneg</span> (<span class="id" title="var">time</span> <span class="id" title="var">t'</span>)) <span class="id" title="keyword">with</span> (<span class="id" title="var">nonneg</span> (<span class="id" title="var">time</span> <span class="id" title="var">t'</span>) +<br/>
&nbsp;&nbsp;<span class="id" title="var">nonneg</span> (<span class="id" title="var">time</span> <span class="id" title="var">msgLatency</span>) - <span class="id" title="var">nonneg</span> (<span class="id" title="var">time</span> <span class="id" title="var">msgLatency</span>));[ | <span class="id" title="tactic">ring</span>]. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">addHyp</span> (<span class="id" title="var">currSince_lower_bound</span> <span class="id" title="var">n</span> <span class="id" title="var">t</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> <span class="id" title="var">H</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">Rplus_lt_swap_ll</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H7</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H7</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hequ</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Rplus_assoc</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Rplus_assoc</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Rplus_le_swap_rl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Rplus_assoc</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">nonneg</span> (<span class="id" title="var">time</span> <span class="id" title="var">msgLatency</span>) +<br/>
&nbsp;&nbsp;<span class="id" title="var">Rmax</span> (<span class="id" title="var">nonneg</span> (<span class="id" title="var">time</span> <span class="id" title="var">adaptNotif</span>)) (<span class="id" title="var">nonneg</span> (<span class="id" title="var">time</span> <span class="id" title="var">transMax</span>)) + <span class="id" title="var">nonneg</span> (<span class="id" title="var">time</span> (<span class="id" title="var">trans</span> <span class="id" title="var">m</span>)) &lt; <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Rlt_le_trans</span>;[ |<span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span>]. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hequ</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Rplus_lt_compat_r</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Rplus_assoc</span>. <span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">apply</span> <span class="id" title="var">Rplus_lt_compat_l</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">Rlt_plus_r</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">period_positive</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<span class="id" title="var">msgLatency</span> +<span class="id" title="var">t</span>+ (<span class="id" title="var">timeMax</span> <span class="id" title="var">adaptNotif</span> <span class="id" title="var">transMax</span>) +<span class="id" title="var">t</span>+ <span class="id" title="var">trans</span> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">nonneg</span> (<span class="id" title="var">time</span> <span class="id" title="var">msgLatency</span>) + <span class="id" title="var">Rmax</span> (<span class="id" title="var">nonneg</span> (<span class="id" title="var">time</span> <span class="id" title="var">adaptNotif</span>))<br/>
&nbsp;&nbsp;(<span class="id" title="var">nonneg</span> (<span class="id" title="var">time</span> <span class="id" title="var">transMax</span>)) + <span class="id" title="var">nonneg</span> (<span class="id" title="var">time</span> (<span class="id" title="var">trans</span> <span class="id" title="var">m</span>)) =<br/>
&nbsp;&nbsp;<span class="id" title="var">nonneg</span> ((<span class="id" title="var">msgLatency</span> +<span class="id" title="var">t</span>+ <span class="id" title="var">timeMax</span> <span class="id" title="var">adaptNotif</span> <span class="id" title="var">transMax</span>) +<span class="id" title="var">t</span>+ <span class="id" title="var">trans</span> <span class="id" title="var">m</span>)). <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">ring</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heqw</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">addHyp</span> (<span class="id" title="var">currSince_periodic_sent</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> <span class="id" title="var">w</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> <span class="id" title="var">H</span> <span class="id" title="var">H1</span>). <span class="id" title="var">decompose</span> [<span class="id" title="var">ex</span>] <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H4</span>. <span class="id" title="var">decompose</span> [<span class="id" title="var">and</span>] <span class="id" title="var">H6</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H6</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">x0</span> <span class="id" title="var">into</span> <span class="id" title="var">l0</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">x</span> <span class="id" title="var">into</span> <span class="id" title="var">t'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">t'</span> &lt;= <span class="id" title="var">u</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hequ</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Rle_trans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H7</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqw</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H3</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Rplus_assoc</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Rplus_comm</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Rplus_assoc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Rplus_comm</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Rplus_le_compat_r</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Rplus_comm</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Rle_refl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hequ</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H6</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">addHyp</span> (<span class="id" title="var">sent_pos_bound</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span> <span class="id" title="var">t'</span> <span class="id" title="var">i</span> <span class="id" title="var">l</span> <span class="id" title="var">l0</span> <span class="id" title="var">p</span> <span class="id" title="var">H9</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">msgLatency</span> &lt; <span class="id" title="var">t'</span>). <span class="id" title="tactic">eapply</span> <span class="id" title="var">Rle_lt_trans</span>;[ |<span class="id" title="tactic">apply</span> <span class="id" title="var">H4</span>]. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqw</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H3</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Rplus_assoc</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Rle_plus_r</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Rle_zero_plus</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">timeMax_RMax</span>. <span class="id" title="var">timeNonneg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">timeNonneg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">addHyp</span> (<span class="id" title="var">sent_delivered</span> <span class="id" title="var">n</span> [<span class="id" title="var">baseMode</span> <span class="id" title="var">m</span>, <span class="id" title="var">basePosition</span> <span class="id" title="var">l0</span>] <span class="id" title="var">t'</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> <span class="id" title="var">H9</span> <span class="id" title="var">H10</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">decompose</span> [<span class="id" title="var">ex</span>] <span class="id" title="var">H11</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H11</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">x0</span> <span class="id" title="var">into</span> <span class="id" title="var">l1</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">x</span> <span class="id" title="var">into</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<span class="id" title="var">minusTime</span> (<span class="id" title="var">nonneg</span> (<span class="id" title="var">time</span> <span class="id" title="var">t'</span>)) (<span class="id" title="var">nonneg</span> (<span class="id" title="var">time</span> <span class="id" title="var">msgLatency</span>))<br/>
&nbsp;&nbsp;(<span class="id" title="var">Rlt_le</span> (<span class="id" title="var">nonneg</span> (<span class="id" title="var">time</span> <span class="id" title="var">msgLatency</span>)) (<span class="id" title="var">nonneg</span> (<span class="id" title="var">time</span> <span class="id" title="var">t'</span>)) <span class="id" title="var">H10</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">t''</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ((<span class="id" title="var">Rmax</span> <span class="id" title="var">adaptNotif</span> <span class="id" title="var">transMax</span>) + <span class="id" title="var">trans</span> <span class="id" title="var">m</span> &lt; <span class="id" title="var">t''</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqt''</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Rplus_lt_swap_ll</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Rplus_assoc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heqw</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">t''</span> &lt;= (<span class="id" title="var">Rmax</span> <span class="id" title="var">adaptNotif</span> <span class="id" title="var">transMax</span>) + <span class="id" title="var">period</span> <span class="id" title="var">m</span> + <span class="id" title="var">trans</span> <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqt''</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Rplus_le_swap_rl</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Rplus_assoc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">t''</span> [:] <span class="id" title="var">preDeliveredInterval</span> <span class="id" title="var">m</span>). <span class="id" title="tactic">split</span>;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Rle_lt_trans</span>;[ | <span class="id" title="tactic">apply</span> <span class="id" title="var">H11</span>]. <span class="id" title="tactic">apply</span> <span class="id" title="var">Rle_plus_r</span>. <span class="id" title="var">timeNonneg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">t''</span> &lt; <span class="id" title="var">t</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqt''</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Rlt_le_trans</span>;[ |<span class="id" title="tactic">apply</span> <span class="id" title="var">H5</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Rplus_lt_swap_rr</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Rlt_plus_r</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">msgLatency_positive</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">nonneg</span> <span class="id" title="var">t'</span> = <span class="id" title="var">msgLatency</span> + <span class="id" title="var">t''</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqt''</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">ring</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H16</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H8</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">t''</span> <span class="id" title="var">r</span> <span class="id" title="var">l0</span> <span class="id" title="var">l1</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqh</span>. <span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">split</span>;<span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">addHyp</span> (<span class="id" title="var">suffDec</span> <span class="id" title="var">m</span> <span class="id" title="var">r</span>). <span class="id" title="var">appDisj</span> <span class="id" title="var">H17</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">adaptNotif</span> &lt; <span class="id" title="var">t''</span>). <span class="id" title="tactic">eapply</span> <span class="id" title="var">Rle_lt_trans</span>;[ |<span class="id" title="tactic">apply</span> <span class="id" title="var">H11</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Rplus_le_weaken_rr</span>. <span class="id" title="var">timeNonneg</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Rmax_l</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">addHyp</span> (<span class="id" title="var">insuff_react</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span> <span class="id" title="var">l0</span> <span class="id" title="var">l1</span> <span class="id" title="var">r</span> <span class="id" title="var">t</span> <span class="id" title="var">t''</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> <span class="id" title="var">H</span> <span class="id" title="var">H13</span> <span class="id" title="var">H17</span> <span class="id" title="var">H15</span> <span class="id" title="var">n0</span> <span class="id" title="var">Q</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">decompExAnd</span> <span class="id" title="var">H18</span> <span class="id" title="var">x</span> <span class="id" title="var">LT</span> <span class="id" title="var">TF</span>. <span class="id" title="var">lets</span> <span class="id" title="var">TB</span> : <span class="id" title="var">tfs_bound</span> <span class="id" title="var">TF</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">minusTime</span> <span class="id" title="var">t''</span> <span class="id" title="var">adaptNotif</span> (<span class="id" title="var">Rlt_le</span> <span class="id" title="var">adaptNotif</span> <span class="id" title="var">t''</span> <span class="id" title="var">H17</span>) &lt;= <span class="id" title="var">trans</span> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">C1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Rle_trans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">LT</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">adaptNotif</span> + <span class="id" title="var">trans</span> <span class="id" title="var">m</span> &lt; <span class="id" title="var">t''</span>). <span class="id" title="tactic">eapply</span> <span class="id" title="var">Rle_lt_trans</span>;[ |<span class="id" title="tactic">apply</span> <span class="id" title="var">H11</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Rplus_le_compat_r</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Rmax_l</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">C1</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Rplus_lt_swap_ll</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H18</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">False_ind</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">Rlt_irrefl</span> (<span class="id" title="var">t''</span> - <span class="id" title="var">adaptNotif</span>)). <span class="id" title="tactic">eapply</span> <span class="id" title="var">Rle_lt_trans</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">C1</span>. <span class="id" title="tactic">assumption</span>. <span class="id" title="keyword">Qed</span>.<br/>
</div>
<hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>